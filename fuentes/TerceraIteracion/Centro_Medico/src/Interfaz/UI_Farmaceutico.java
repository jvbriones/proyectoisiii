/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * Principal_Administrador.java
 *
 * Created on 16-mar-2011, 18:27:18
 */

package Interfaz;

import java.awt.Image;
import CentroMedico.*;
import BaseDatos.*;
import Controlador.*;
import java.util.*;
import java.awt.Color;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import javax.swing.DefaultListModel;
import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import java.text.ParseException;
import java.util.logging.Level;
import java.util.logging.Logger;




/**
 *
 * @author Adrian
 * @author Nicolaś
 */
public class UI_Farmaceutico extends javax.swing.JFrame {

    Medicamento Me = new Medicamento ();
    LoteMedicamento Lo = new LoteMedicamento();
    ArrayList<Receta> resumenRecetas;
    Set<MedicamentoRecetado> smR;
    Set<String> ListaCodBarras = new HashSet<String>(0);
    Receta recetag = null;

    /** Creates new form Principal_Administrador */
    public UI_Farmaceutico() {
        initComponents();
        //medicamento global


    }

    public UI_Farmaceutico(Usuario usu, String tipoUsuario) throws SQLException{
        initComponents();




        /**Ponemos las etiquetas del usuario que ha entrado*/
        jLabelNombreUsuario.setText(usu.getNombre());
        jLabelTipoUsuario.setText(tipoUsuario);

        /**Mostramos el panel Principal*/
        mostrarPanel("Principal");
        mostrarDatosPerso(usu);
    

        /**Cargamos la foto de login*/
        jLabelTipoUsuarioIdentificado.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Tipo-Usuario-Personal.png"))); // NOI18N

        /**Enlazamos grupo botones de GestionarPersonal y ConsultarTurno*/

        buttonGroup1.add(jRadioButtonManiana);
        buttonGroup1.add(jRadioButtonTarde1);
        buttonGroup1.add(jRadioButtonNoche);
        jRadioButtonManiana.setSelected(true);

        buttonGroup2.add(jRadioButtonAnalista);
        buttonGroup2.add(jRadioButtonFarmaceutico);
        buttonGroup2.add(jRadioButtonMedico);
        buttonGroup2.add(jRadioButtonRadiologo);
        jRadioButtonRadiologo.setSelected(true);

      
       jLabelErrorRepe.setVisible(false);
       jLabelError2.setVisible(false);
       jLabelError3.setVisible(false);
       jLabelError4.setVisible(false);
       jLabelError5.setVisible(false);

    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        buttonGroup2 = new javax.swing.ButtonGroup();
        buttonGroup3 = new javax.swing.ButtonGroup();
        jLabel21 = new javax.swing.JLabel();
        jLabelCentroMedico = new javax.swing.JLabel();
        jLabelIconoInicio = new javax.swing.JLabel();
        jLabelInicio = new javax.swing.JLabel();
        jLabelIconoAyuda = new javax.swing.JLabel();
        jLabelIconoSalir = new javax.swing.JLabel();
        jLabelAyuda = new javax.swing.JLabel();
        jLabelSalir = new javax.swing.JLabel();
        jLabelIcono = new javax.swing.JLabel();
        ZonaTrabajo = new javax.swing.JLayeredPane();
        jPanelGestionarMedicamentos = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        jLabelGestionarPaciente8 = new javax.swing.JLabel();
        jLabelNombre = new javax.swing.JLabel();
        jLabelStockMinimo = new javax.swing.JLabel();
        jLabelDescripcion = new javax.swing.JLabel();
        jTextFieldNombreMedicamento = new javax.swing.JTextField();
        jTextFieldStockMinimo = new javax.swing.JTextField();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTextAreaDescripcion = new javax.swing.JTextArea();
        jButtonAnadir = new javax.swing.JButton();
        jButtonConsultar = new javax.swing.JButton();
        jLabelError3 = new javax.swing.JLabel();
        jLabelError4 = new javax.swing.JLabel();
        jLabelExisteMedica = new javax.swing.JLabel();
        jPanelConsultarMedicamento = new javax.swing.JPanel();
        jLabel27 = new javax.swing.JLabel();
        jLabelGestionarPaciente13 = new javax.swing.JLabel();
        jTextFieldNombreMedica = new javax.swing.JTextField();
        jTextFieldExistencias = new javax.swing.JTextField();
        jLabelNombreMedica = new javax.swing.JLabel();
        jLabelExis = new javax.swing.JLabel();
        jLabelDescrip = new javax.swing.JLabel();
        scrollPanelDescripcion = new java.awt.ScrollPane();
        jScrollPane12 = new javax.swing.JScrollPane();
        jTextAreaConsulDescrip = new javax.swing.JTextArea();
        jButtonModificarMedica = new javax.swing.JButton();
        jButtonEliminarMedicamento = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jLabelCodLote = new javax.swing.JLabel();
        jTextFieldCodLote = new javax.swing.JTextField();
        jButtonConsultarLote = new javax.swing.JButton();
        jButtonAnadirLote = new javax.swing.JButton();
        jTextFieldStockActual = new javax.swing.JTextField();
        jLabelStockActual = new javax.swing.JLabel();
        jLabelError2 = new javax.swing.JLabel();
        jOptionPaneConfirmar = new javax.swing.JOptionPane();
        jLabelErrorLote = new javax.swing.JLabel();
        jPanelDispensar = new javax.swing.JPanel();
        jLabelGestionarPaciente9 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jScrollPane6 = new javax.swing.JScrollPane();
        jTextAreaInfo2 = new javax.swing.JTextArea();
        jLabel16 = new javax.swing.JLabel();
        jTextFieldDNIPaciente = new javax.swing.JTextField();
        jButtonObtenerRecetas = new javax.swing.JButton();
        jLabelErrorDNIPaciente = new javax.swing.JLabel();
        jLabelError5 = new javax.swing.JLabel();
        jPanelComprobarStockMedicamentos = new javax.swing.JPanel();
        jLabelGestionarPaciente7 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTextAreaInfo = new javax.swing.JTextArea();
        scrollPaneMedicamentosBajoStock = new java.awt.ScrollPane();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane9 = new javax.swing.JScrollPane();
        jList2 = new javax.swing.JList();
        jScrollPane10 = new javax.swing.JScrollPane();
        jList3 = new javax.swing.JList();
        jScrollPane11 = new javax.swing.JScrollPane();
        jList4 = new javax.swing.JList();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jPanelPrincipal = new javax.swing.JPanel();
        jButtonConsultarDatosPersonales = new javax.swing.JButton();
        jLabelGestionarPaciente3 = new javax.swing.JLabel();
        jLabelConsultarTurno = new javax.swing.JLabel();
        jButtonGestionarCita = new javax.swing.JButton();
        jButtonComprobarStock = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jButtonGestionarMedicamento = new javax.swing.JButton();
        jButtonDispensar = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jPanelConsultarDatosPersonales = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jLabelGestionarPaciente4 = new javax.swing.JLabel();
        jTextFieldNombrePersonal = new javax.swing.JTextField();
        jLabelFotoPersonal = new javax.swing.JLabel();
        jTextFieldTelefonoPersonal = new javax.swing.JTextField();
        jLabelContraseniaPersonal = new javax.swing.JLabel();
        jTextFieldDNIPersonal = new javax.swing.JTextField();
        jLabelNombrePersonal = new javax.swing.JLabel();
        jLabelFotografiaersonal = new javax.swing.JLabel();
        jLabelDNIPersonal = new javax.swing.JLabel();
        jTextFieldLugarNacimientoPersonal = new javax.swing.JTextField();
        jLabelTelefonoPersonal = new javax.swing.JLabel();
        jLabelLugarNacimientoPersonal = new javax.swing.JLabel();
        jLabelDireccionPersonal = new javax.swing.JLabel();
        jLabelApellidosPersonal = new javax.swing.JLabel();
        jTextFieldApellidosPersonal = new javax.swing.JTextField();
        jLabelEmailPersonal = new javax.swing.JLabel();
        jTextFieldDireccionPersonal = new javax.swing.JTextField();
        jTextFieldEmailPersonal = new javax.swing.JTextField();
        jTextFieldContraseniaPersonal = new javax.swing.JTextField();
        jLabelFechaNacimientoPersonal = new javax.swing.JLabel();
        jButtonGuardar = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        jRadioButtonFarmaceutico = new javax.swing.JRadioButton();
        jRadioButtonAnalista = new javax.swing.JRadioButton();
        jRadioButtonRadiologo = new javax.swing.JRadioButton();
        jRadioButtonMedico = new javax.swing.JRadioButton();
        dateChooserCombo3 = new datechooser.beans.DateChooserCombo();
        jPanelConsultarTurno = new javax.swing.JPanel();
        jLabelDNITurno = new javax.swing.JLabel();
        jTextFieldDNIGestionarTurno = new javax.swing.JTextField();
        jScrollPane4 = new javax.swing.JScrollPane();
        jTextAreaInfoConsultaTurno = new javax.swing.JTextArea();
        jScrollPane5 = new javax.swing.JScrollPane();
        jTextAreaInfoTurno = new javax.swing.JTextArea();
        jLabelGestionarPaciente6 = new javax.swing.JLabel();
        jTextFieldInicioTurno = new javax.swing.JTextField();
        jLabelFechaInicioTurno = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jTextFieldFinTurno = new javax.swing.JTextField();
        jLabelFechaFinTurno = new javax.swing.JLabel();
        jLabelTurnoTrabajo = new javax.swing.JLabel();
        jRadioButtonManiana = new javax.swing.JRadioButton();
        jRadioButtonTarde1 = new javax.swing.JRadioButton();
        jRadioButtonNoche = new javax.swing.JRadioButton();
        jPanelDispensarFinal = new javax.swing.JPanel();
        jScrollPane8 = new javax.swing.JScrollPane();
        jTextAreaInfo4 = new javax.swing.JTextArea();
        scrollPaneMedicamentosReceta = new java.awt.ScrollPane();
        jScrollPane2 = new javax.swing.JScrollPane();
        jListMedicamentosDispensar = new javax.swing.JList();
        jLabelGestionarPaciente11 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jButtonDispensarFinal = new javax.swing.JButton();
        jButtonFinalizar = new javax.swing.JButton();
        jTextFieldCodBarras2 = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jPanelDispensarConsultar = new javax.swing.JPanel();
        jButtonConsultarReceta = new javax.swing.JButton();
        jLabelGestionarPaciente10 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        scrollPaneRecetas = new java.awt.ScrollPane();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane7 = new javax.swing.JScrollPane();
        jList1 = new javax.swing.JList();
        jLabel17 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jPanelModificarLote = new javax.swing.JPanel();
        jLabelGestionarPaciente12 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jTextFieldCodigoBarras = new javax.swing.JTextField();
        jTextFieldExistencias1 = new javax.swing.JTextField();
        jLabel25 = new javax.swing.JLabel();
        jLabelFechaCad = new javax.swing.JLabel();
        jButtonModificarLote = new javax.swing.JButton();
        jButtonELiminarLote = new javax.swing.JButton();
        jOptionPaneEliminarLote = new javax.swing.JOptionPane();
        jLabelError6 = new javax.swing.JLabel();
        jLabelErrorFecha1 = new javax.swing.JLabel();
        jLabelCodigoBarras = new javax.swing.JLabel();
        dateChooserCombo2 = new datechooser.beans.DateChooserCombo();
        jPanelAnadirLote = new javax.swing.JPanel();
        jLabelGestionarPaciente14 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jTextFieldExistenc = new javax.swing.JTextField();
        jTextFieldCodBarras = new javax.swing.JTextField();
        jLabelExistenc = new javax.swing.JLabel();
        jLabelCodBarras2 = new javax.swing.JLabel();
        jLabelFechCad = new javax.swing.JLabel();
        jButtonAnadirMedicamento = new javax.swing.JButton();
        jLabelErrorRepe = new javax.swing.JLabel();
        dateChooserCombo1 = new datechooser.beans.DateChooserCombo();
        jLabelErrorFaltanDatos = new javax.swing.JLabel();
        jPanelUsuario = new javax.swing.JPanel();
        jLabelUsuario = new javax.swing.JLabel();
        jLabelTipoUsuario = new javax.swing.JLabel();
        jLabelNombreUsuario = new javax.swing.JLabel();
        jLabelTipoUsuarioIdentificado = new javax.swing.JLabel();

        jLabel21.setText("Codigo Barras");

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(255, 204, 102));
        setResizable(false);

        jLabelCentroMedico.setText("Centro médico");

        jLabelIconoInicio.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Inicio-Desactivado.png"))); // NOI18N
        jLabelIconoInicio.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelIconoInicioMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jLabelIconoInicioMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jLabelIconoInicioMouseExited(evt);
            }
        });

        jLabelInicio.setText("Inicio");

        jLabelIconoAyuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Ayuda-Desactivado.png"))); // NOI18N
        jLabelIconoAyuda.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelIconoAyudaMouseClicked(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jLabelIconoAyudaMouseExited(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jLabelIconoAyudaMouseEntered(evt);
            }
        });

        jLabelIconoSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Salir-Desactivado.png"))); // NOI18N
        jLabelIconoSalir.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelIconoSalirMouseClicked(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jLabelIconoSalirMouseExited(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jLabelIconoSalirMouseEntered(evt);
            }
        });

        jLabelAyuda.setText("Ayuda");

        jLabelSalir.setText("Salir");

        jLabelIcono.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Logo-Centro-Medico.png"))); // NOI18N

        ZonaTrabajo.setMinimumSize(new java.awt.Dimension(902, 520));
        ZonaTrabajo.setPreferredSize(new java.awt.Dimension(912, 530));

        jPanelGestionarMedicamentos.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel11.setText("_______________________________________________________________________");
        jPanelGestionarMedicamentos.add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(145, 61, -1, -1));

        jLabelGestionarPaciente8.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente8.setText("Gestionar Medicamento");
        jPanelGestionarMedicamentos.add(jLabelGestionarPaciente8, new org.netbeans.lib.awtextra.AbsoluteConstraints(145, 12, 515, -1));

        jLabelNombre.setText("Nombre");
        jPanelGestionarMedicamentos.add(jLabelNombre, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 121, -1, -1));

        jLabelStockMinimo.setText("Stock Minimo");
        jPanelGestionarMedicamentos.add(jLabelStockMinimo, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 194, -1, -1));

        jLabelDescripcion.setText("Descripcion");
        jPanelGestionarMedicamentos.add(jLabelDescripcion, new org.netbeans.lib.awtextra.AbsoluteConstraints(481, 97, -1, -1));

        jTextFieldNombreMedicamento.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldNombreMedicamentoActionPerformed(evt);
            }
        });
        jPanelGestionarMedicamentos.add(jTextFieldNombreMedicamento, new org.netbeans.lib.awtextra.AbsoluteConstraints(241, 121, 132, -1));

        jTextFieldStockMinimo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldStockMinimoKeyTyped(evt);
            }
        });
        jPanelGestionarMedicamentos.add(jTextFieldStockMinimo, new org.netbeans.lib.awtextra.AbsoluteConstraints(308, 189, 65, -1));

        jTextAreaDescripcion.setColumns(20);
        jTextAreaDescripcion.setRows(5);
        jScrollPane3.setViewportView(jTextAreaDescripcion);

        jPanelGestionarMedicamentos.add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 121, 281, 126));

        jButtonAnadir.setText("Añadir");
        jButtonAnadir.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonAnadirMouseReleased(evt);
            }
        });
        jPanelGestionarMedicamentos.add(jButtonAnadir, new org.netbeans.lib.awtextra.AbsoluteConstraints(270, 265, 105, -1));

        jButtonConsultar.setText("Consultar");
        jButtonConsultar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonConsultarMouseClicked(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonConsultarMouseReleased(evt);
            }
        });
        jPanelGestionarMedicamentos.add(jButtonConsultar, new org.netbeans.lib.awtextra.AbsoluteConstraints(526, 265, 107, -1));

        jLabelError3.setForeground(new java.awt.Color(255, 0, 0));
        jLabelError3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelError3.setText("Faltan datos por introducir");
        jPanelGestionarMedicamentos.add(jLabelError3, new org.netbeans.lib.awtextra.AbsoluteConstraints(148, 327, 254, -1));

        jLabelError4.setForeground(new java.awt.Color(255, 0, 0));
        jLabelError4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelError4.setText("No existe medicamento con ese nombre");
        jPanelGestionarMedicamentos.add(jLabelError4, new org.netbeans.lib.awtextra.AbsoluteConstraints(429, 327, 329, -1));

        jLabelExisteMedica.setForeground(new java.awt.Color(255, 0, 0));
        jLabelExisteMedica.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelExisteMedica.setText("El medicamento ya existe");
        jPanelGestionarMedicamentos.add(jLabelExisteMedica, new org.netbeans.lib.awtextra.AbsoluteConstraints(148, 378, 254, -1));

        jPanelGestionarMedicamentos.setBounds(0, 0, 860, 430);
        ZonaTrabajo.add(jPanelGestionarMedicamentos, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel27.setText("____________________________________________________________________");

        jLabelGestionarPaciente13.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente13.setText("Consultar Medicamento");

        jLabelNombreMedica.setText("Nombre del medicamento");

        jLabelExis.setText("Existencias");

        jLabelDescrip.setText("Descripción");

        scrollPanelDescripcion.setBackground(new java.awt.Color(254, 254, 254));

        jTextAreaConsulDescrip.setColumns(20);
        jTextAreaConsulDescrip.setRows(5);
        jScrollPane12.setViewportView(jTextAreaConsulDescrip);

        scrollPanelDescripcion.add(jScrollPane12);

        jButtonModificarMedica.setText("Modificar Medicamento");
        jButtonModificarMedica.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonModificarMedicaMouseReleased(evt);
            }
        });

        jButtonEliminarMedicamento.setText("Eliminar Medicamento");
        jButtonEliminarMedicamento.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonEliminarMedicamentoMouseReleased(evt);
            }
        });
        jButtonEliminarMedicamento.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEliminarMedicamentoActionPerformed(evt);
            }
        });

        jPanel1.setBackground(new java.awt.Color(231, 229, 229));
        jPanel1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jLabelCodLote.setText("Codigo Lote");

        jButtonConsultarLote.setText("Consultar Lote");
        jButtonConsultarLote.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonConsultarLoteMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jButtonConsultarLoteMouseEntered(evt);
            }
        });
        jButtonConsultarLote.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonConsultarLoteActionPerformed(evt);
            }
        });

        jButtonAnadirLote.setText("Añadir Lote");
        jButtonAnadirLote.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonAnadirLoteMouseClicked(evt);
            }
        });

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(32, 32, 32)
                        .add(jLabelCodLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 94, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .add(jTextFieldCodLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 127, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(18, 18, 18)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jButtonAnadirLote, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 127, Short.MAX_VALUE)
                            .add(jButtonConsultarLote, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 127, Short.MAX_VALUE))))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .add(jLabelCodLote)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jTextFieldCodLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jButtonConsultarLote))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 22, Short.MAX_VALUE)
                .add(jButtonAnadirLote)
                .addContainerGap())
        );

        jLabelStockActual.setText("StockActual");

        jLabelError2.setForeground(new java.awt.Color(255, 0, 0));
        jLabelError2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelError2.setText("Faltan datos por introducir");

        jLabelErrorLote.setForeground(new java.awt.Color(255, 0, 0));
        jLabelErrorLote.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelErrorLote.setText("No existe el lote");

        org.jdesktop.layout.GroupLayout jPanelConsultarMedicamentoLayout = new org.jdesktop.layout.GroupLayout(jPanelConsultarMedicamento);
        jPanelConsultarMedicamento.setLayout(jPanelConsultarMedicamentoLayout);
        jPanelConsultarMedicamentoLayout.setHorizontalGroup(
            jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                .addContainerGap(51, Short.MAX_VALUE)
                .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelConsultarMedicamentoLayout.createSequentialGroup()
                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                            .add(jLabelErrorLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 254, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                                    .add(22, 22, 22)
                                    .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                        .add(jLabelNombreMedica, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 208, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                                            .add(jTextFieldNombreMedica, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 184, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                            .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                                                .add(jButtonEliminarMedicamento, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .add(jButtonModificarMedica, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelConsultarMedicamentoLayout.createSequentialGroup()
                                                    .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                                                        .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                                                            .add(18, 18, 18)
                                                            .add(jTextFieldStockActual, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 58, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                                            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                                        .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                                                            .add(jLabelStockActual)
                                                            .add(18, 18, 18)))
                                                    .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                                        .add(jLabelExis)
                                                        .add(jTextFieldExistencias, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 58, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))))
                                    .add(24, 24, 24))
                                .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabelError2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 254, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                        .add(37, 37, 37)
                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jLabelDescrip)
                            .add(scrollPanelDescripcion, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 290, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(133, 133, 133))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelConsultarMedicamentoLayout.createSequentialGroup()
                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
                            .add(org.jdesktop.layout.GroupLayout.LEADING, jLabel27, 0, 0, Short.MAX_VALUE)
                            .add(org.jdesktop.layout.GroupLayout.LEADING, jLabelGestionarPaciente13))
                        .add(87, 87, 87))))
            .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                    .add(0, 254, Short.MAX_VALUE)
                    .add(jOptionPaneConfirmar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(0, 253, Short.MAX_VALUE)))
        );
        jPanelConsultarMedicamentoLayout.setVerticalGroup(
            jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                .addContainerGap()
                .add(jLabelGestionarPaciente13)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jLabel27)
                .add(31, 31, 31)
                .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                        .add(jLabelDescrip)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(scrollPanelDescripcion, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 135, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(21, 21, 21)
                        .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                        .add(jLabelNombreMedica)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jTextFieldNombreMedica, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(18, 18, 18)
                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(jLabelExis)
                            .add(jLabelStockActual))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(jTextFieldExistencias, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jTextFieldStockActual, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(41, 41, 41)
                        .add(jButtonModificarMedica)
                        .add(18, 18, 18)
                        .add(jButtonEliminarMedicamento)
                        .add(18, 18, 18)
                        .add(jLabelError2)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jLabelErrorLote)))
                .addContainerGap(109, Short.MAX_VALUE))
            .add(jPanelConsultarMedicamentoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                .add(jPanelConsultarMedicamentoLayout.createSequentialGroup()
                    .add(0, 210, Short.MAX_VALUE)
                    .add(jOptionPaneConfirmar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(0, 210, Short.MAX_VALUE)))
        );

        jPanelConsultarMedicamento.setBounds(0, 0, -1, -1);
        ZonaTrabajo.add(jPanelConsultarMedicamento, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabelGestionarPaciente9.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente9.setText("Dispensar Medicamentos");

        jLabel15.setText("_________________________________________________________________________");

        jTextAreaInfo2.setBackground(new java.awt.Color(255, 204, 102));
        jTextAreaInfo2.setColumns(17);
        jTextAreaInfo2.setEditable(false);
        jTextAreaInfo2.setFont(new java.awt.Font("Lucida Grande", 0, 18));
        jTextAreaInfo2.setRows(3);
        jTextAreaInfo2.setText("\n     Inserte DNI del paciente\n");
        jScrollPane6.setViewportView(jTextAreaInfo2);

        jLabel16.setText("DNI : ");

        jTextFieldDNIPaciente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldDNIPacienteActionPerformed(evt);
            }
        });
        jTextFieldDNIPaciente.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldDNIPacienteKeyTyped(evt);
            }
        });

        jButtonObtenerRecetas.setText("Obtener Recetas");
        jButtonObtenerRecetas.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonObtenerRecetasMouseClicked(evt);
            }
        });
        jButtonObtenerRecetas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonObtenerRecetasActionPerformed(evt);
            }
        });

        jLabelErrorDNIPaciente.setForeground(new java.awt.Color(255, 0, 0));
        jLabelErrorDNIPaciente.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelErrorDNIPaciente.setText("No existe paciente con ese DNI");

        jLabelError5.setForeground(new java.awt.Color(255, 0, 0));
        jLabelError5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelError5.setText("Debe de introducir un DNI");

        org.jdesktop.layout.GroupLayout jPanelDispensarLayout = new org.jdesktop.layout.GroupLayout(jPanelDispensar);
        jPanelDispensar.setLayout(jPanelDispensarLayout);
        jPanelDispensarLayout.setHorizontalGroup(
            jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarLayout.createSequentialGroup()
                .add(134, 134, 134)
                .add(jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel15)
                    .add(jLabelGestionarPaciente9, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 659, Short.MAX_VALUE)
                    .add(jPanelDispensarLayout.createSequentialGroup()
                        .add(115, 115, 115)
                        .add(jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jScrollPane6, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanelDispensarLayout.createSequentialGroup()
                                .add(53, 53, 53)
                                .add(jLabel16)
                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                                .add(jTextFieldDNIPaciente, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 100, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 300, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarLayout.createSequentialGroup()
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 182, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                            .add(jLabelError5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 282, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabelErrorDNIPaciente, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 282, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(195, 195, 195))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarLayout.createSequentialGroup()
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 214, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(jButtonObtenerRecetas, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 192, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(253, 253, 253)))
                .add(24, 24, 24))
        );
        jPanelDispensarLayout.setVerticalGroup(
            jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelDispensarLayout.createSequentialGroup()
                .add(22, 22, 22)
                .add(jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelDispensarLayout.createSequentialGroup()
                        .add(jLabelGestionarPaciente9)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jLabel15))
                    .add(jPanelDispensarLayout.createSequentialGroup()
                        .add(85, 85, 85)
                        .add(jScrollPane6, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(27, 27, 27)
                        .add(jPanelDispensarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(jTextFieldDNIPaciente, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jLabel16))))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                .add(jLabelError5)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jLabelErrorDNIPaciente)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                .add(jButtonObtenerRecetas)
                .addContainerGap(88, Short.MAX_VALUE))
        );

        jPanelDispensar.setBounds(0, 0, -1, -1);
        ZonaTrabajo.add(jPanelDispensar, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabelGestionarPaciente7.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente7.setText("Comprobar Stock Medicamentos");

        jLabel10.setText("______________________________________________________________________________________________");

        jTextAreaInfo.setBackground(new java.awt.Color(255, 204, 102));
        jTextAreaInfo.setColumns(17);
        jTextAreaInfo.setEditable(false);
        jTextAreaInfo.setFont(new java.awt.Font("Lucida Grande", 0, 18));
        jTextAreaInfo.setRows(3);
        jTextAreaInfo.setText("\nEstos son los medicamentos con bajo stock");
        jScrollPane1.setViewportView(jTextAreaInfo);

        scrollPaneMedicamentosBajoStock.setBackground(new java.awt.Color(254, 254, 254));

        jPanel3.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jList2.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jScrollPane9.setViewportView(jList2);

        jList3.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jScrollPane10.setViewportView(jList3);

        jList4.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        jList4.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jScrollPane11.setViewportView(jList4);

        org.jdesktop.layout.GroupLayout jPanel3Layout = new org.jdesktop.layout.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel3Layout.createSequentialGroup()
                .add(jScrollPane9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 114, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jScrollPane10, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 136, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .add(jScrollPane11, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 136, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jScrollPane9, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 202, Short.MAX_VALUE)
            .add(jScrollPane10, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 202, Short.MAX_VALUE)
            .add(jScrollPane11, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 202, Short.MAX_VALUE)
        );

        scrollPaneMedicamentosBajoStock.add(jPanel3);

        jLabel5.setText("Nombre");

        jLabel6.setText("Stock minimo");

        jLabel7.setText("Stock actual");

        org.jdesktop.layout.GroupLayout jPanelComprobarStockMedicamentosLayout = new org.jdesktop.layout.GroupLayout(jPanelComprobarStockMedicamentos);
        jPanelComprobarStockMedicamentos.setLayout(jPanelComprobarStockMedicamentosLayout);
        jPanelComprobarStockMedicamentosLayout.setHorizontalGroup(
            jPanelComprobarStockMedicamentosLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelComprobarStockMedicamentosLayout.createSequentialGroup()
                .add(78, 78, 78)
                .add(jPanelComprobarStockMedicamentosLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelComprobarStockMedicamentosLayout.createSequentialGroup()
                        .add(121, 121, 121)
                        .add(jPanelComprobarStockMedicamentosLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
                            .add(org.jdesktop.layout.GroupLayout.LEADING, jPanelComprobarStockMedicamentosLayout.createSequentialGroup()
                                .add(jLabel5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 66, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                .add(69, 69, 69)
                                .add(jLabel6)
                                .add(63, 63, 63)
                                .add(jLabel7))
                            .add(org.jdesktop.layout.GroupLayout.LEADING, jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 389, Short.MAX_VALUE)
                            .add(org.jdesktop.layout.GroupLayout.LEADING, scrollPaneMedicamentosBajoStock, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .add(jLabel10)
                    .add(jLabelGestionarPaciente7))
                .addContainerGap(168, Short.MAX_VALUE))
        );
        jPanelComprobarStockMedicamentosLayout.setVerticalGroup(
            jPanelComprobarStockMedicamentosLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelComprobarStockMedicamentosLayout.createSequentialGroup()
                .add(27, 27, 27)
                .add(jLabelGestionarPaciente7)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jLabel10)
                .add(37, 37, 37)
                .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(18, 18, 18)
                .add(jPanelComprobarStockMedicamentosLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel5)
                    .add(jLabel6)
                    .add(jLabel7))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(scrollPaneMedicamentosBajoStock, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 202, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(90, Short.MAX_VALUE))
        );

        jPanelComprobarStockMedicamentos.setBounds(0, 0, 810, 560);
        ZonaTrabajo.add(jPanelComprobarStockMedicamentos, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanelPrincipal.setPreferredSize(new java.awt.Dimension(901, 531));

        jButtonConsultarDatosPersonales.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Tipo.png"))); // NOI18N
        jButtonConsultarDatosPersonales.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonConsultarDatosPersonalesMouseClicked(evt);
            }
        });
        jButtonConsultarDatosPersonales.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonConsultarDatosPersonalesActionPerformed(evt);
            }
        });

        jLabelGestionarPaciente3.setText("Consultar datos personales");

        jLabelConsultarTurno.setText("Consultar turno");

        jButtonGestionarCita.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Cita.png"))); // NOI18N
        jButtonGestionarCita.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonGestionarCitaMouseClicked(evt);
            }
        });
        jButtonGestionarCita.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonGestionarCitaActionPerformed(evt);
            }
        });

        jButtonComprobarStock.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/ComprobarStock.png"))); // NOI18N
        jButtonComprobarStock.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonComprobarStockMouseClicked(evt);
            }
        });
        jButtonComprobarStock.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonComprobarStockActionPerformed(evt);
            }
        });

        jLabel1.setText("Gestionar Medicamento");

        jButtonGestionarMedicamento.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/GestionarMedicamento.png"))); // NOI18N
        jButtonGestionarMedicamento.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonGestionarMedicamentoMouseClicked(evt);
            }
        });

        jButtonDispensar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Dispensar.png"))); // NOI18N
        jButtonDispensar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonDispensarMouseClicked(evt);
            }
        });

        jLabel2.setText("Comprobar Stock Medicamento");

        jLabel4.setText("Dispensar Medicamentos");

        org.jdesktop.layout.GroupLayout jPanelPrincipalLayout = new org.jdesktop.layout.GroupLayout(jPanelPrincipal);
        jPanelPrincipal.setLayout(jPanelPrincipalLayout);
        jPanelPrincipalLayout.setHorizontalGroup(
            jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelPrincipalLayout.createSequentialGroup()
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelPrincipalLayout.createSequentialGroup()
                        .add(67, 67, 67)
                        .add(jLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 194, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanelPrincipalLayout.createSequentialGroup()
                        .add(56, 56, 56)
                        .add(jLabelGestionarPaciente3))
                    .add(jPanelPrincipalLayout.createSequentialGroup()
                        .add(47, 47, 47)
                        .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jButtonGestionarMedicamento, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 192, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jButtonConsultarDatosPersonales, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 194, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelPrincipalLayout.createSequentialGroup()
                        .add(88, 88, 88)
                        .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jButtonGestionarCita, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 194, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanelPrincipalLayout.createSequentialGroup()
                                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                    .add(jLabel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 234, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                    .add(jButtonComprobarStock, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 192, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                    .add(jPanelPrincipalLayout.createSequentialGroup()
                                        .add(74, 74, 74)
                                        .add(jLabel4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 186, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                                    .add(jPanelPrincipalLayout.createSequentialGroup()
                                        .add(62, 62, 62)
                                        .add(jButtonDispensar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 192, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))))
                    .add(jPanelPrincipalLayout.createSequentialGroup()
                        .add(126, 126, 126)
                        .add(jLabelConsultarTurno)))
                .addContainerGap(67, Short.MAX_VALUE))
        );
        jPanelPrincipalLayout.setVerticalGroup(
            jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelPrincipalLayout.createSequentialGroup()
                .add(29, 29, 29)
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(jButtonGestionarCita, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 146, Short.MAX_VALUE)
                    .add(jButtonConsultarDatosPersonales, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 146, Short.MAX_VALUE))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabelGestionarPaciente3)
                    .add(jLabelConsultarTurno))
                .add(24, 24, 24)
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
                    .add(jButtonGestionarMedicamento, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .add(jButtonComprobarStock, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .add(jButtonDispensar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 141, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(5, 5, 5)
                .add(jPanelPrincipalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 21, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jLabel2)
                    .add(jLabel4))
                .add(154, 154, 154))
        );

        jPanelPrincipal.setBounds(-9, 1, 910, 540);
        ZonaTrabajo.add(jPanelPrincipal, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanelConsultarDatosPersonales.setPreferredSize(new java.awt.Dimension(901, 531));
        jPanelConsultarDatosPersonales.setLayout(null);

        jLabel3.setText("___________________________________________________________________");
        jPanelConsultarDatosPersonales.add(jLabel3);
        jLabel3.setBounds(256, 59, 402, 14);

        jLabelGestionarPaciente4.setFont(new java.awt.Font("Lucida Grande", 1, 48));
        jLabelGestionarPaciente4.setText("Gestionar Personal");
        jPanelConsultarDatosPersonales.add(jLabelGestionarPaciente4);
        jLabelGestionarPaciente4.setBounds(257, 20, 440, 62);

        jTextFieldNombrePersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldNombrePersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldNombrePersonal);
        jTextFieldNombrePersonal.setBounds(157, 126, 210, 20);

        jLabelFotoPersonal.setBackground(new java.awt.Color(255, 255, 255));
        jLabelFotoPersonal.setForeground(new java.awt.Color(255, 255, 255));
        jPanelConsultarDatosPersonales.add(jLabelFotoPersonal);
        jLabelFotoPersonal.setBounds(680, 360, 150, 150);

        jTextFieldTelefonoPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldTelefonoPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldTelefonoPersonal);
        jTextFieldTelefonoPersonal.setBounds(157, 270, 130, 20);

        jLabelContraseniaPersonal.setText("Contraseña");
        jPanelConsultarDatosPersonales.add(jLabelContraseniaPersonal);
        jLabelContraseniaPersonal.setBounds(729, 250, 100, 14);

        jTextFieldDNIPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldDNIPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldDNIPersonal);
        jTextFieldDNIPersonal.setBounds(757, 126, 95, 20);

        jLabelNombrePersonal.setText("Nombre");
        jPanelConsultarDatosPersonales.add(jLabelNombrePersonal);
        jLabelNombrePersonal.setBounds(157, 96, 80, 14);

        jLabelFotografiaersonal.setText("Fotografía");
        jPanelConsultarDatosPersonales.add(jLabelFotografiaersonal);
        jLabelFotografiaersonal.setBounds(720, 330, 100, 14);

        jLabelDNIPersonal.setText("DNI");
        jPanelConsultarDatosPersonales.add(jLabelDNIPersonal);
        jLabelDNIPersonal.setBounds(757, 96, 40, 14);

        jTextFieldLugarNacimientoPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldLugarNacimientoPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldLugarNacimientoPersonal);
        jTextFieldLugarNacimientoPersonal.setBounds(350, 270, 300, 20);

        jLabelTelefonoPersonal.setText("Teléfono");
        jPanelConsultarDatosPersonales.add(jLabelTelefonoPersonal);
        jLabelTelefonoPersonal.setBounds(157, 250, 70, 14);

        jLabelLugarNacimientoPersonal.setText("Lugar nacimiento");
        jPanelConsultarDatosPersonales.add(jLabelLugarNacimientoPersonal);
        jLabelLugarNacimientoPersonal.setBounds(350, 250, 140, 14);

        jLabelDireccionPersonal.setText("Dirección");
        jPanelConsultarDatosPersonales.add(jLabelDireccionPersonal);
        jLabelDireccionPersonal.setBounds(157, 172, 80, 14);

        jLabelApellidosPersonal.setText("Apellidos");
        jPanelConsultarDatosPersonales.add(jLabelApellidosPersonal);
        jLabelApellidosPersonal.setBounds(407, 96, 80, 14);

        jTextFieldApellidosPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldApellidosPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldApellidosPersonal);
        jTextFieldApellidosPersonal.setBounds(407, 126, 290, 20);

        jLabelEmailPersonal.setText("Email");
        jPanelConsultarDatosPersonales.add(jLabelEmailPersonal);
        jLabelEmailPersonal.setBounds(567, 172, 80, 14);

        jTextFieldDireccionPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldDireccionPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldDireccionPersonal);
        jTextFieldDireccionPersonal.setBounds(157, 192, 370, 20);

        jTextFieldEmailPersonal.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldEmailPersonalKeyTyped(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jTextFieldEmailPersonal);
        jTextFieldEmailPersonal.setBounds(567, 192, 289, 20);

        jTextFieldContraseniaPersonal.setColumns(8);
        jPanelConsultarDatosPersonales.add(jTextFieldContraseniaPersonal);
        jTextFieldContraseniaPersonal.setBounds(729, 270, 70, 20);

        jLabelFechaNacimientoPersonal.setText("Fecha nacimiento");
        jPanelConsultarDatosPersonales.add(jLabelFechaNacimientoPersonal);
        jLabelFechaNacimientoPersonal.setBounds(157, 317, 140, 14);

        jButtonGuardar.setText("Guardar");
        jButtonGuardar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonGuardarMouseClicked(evt);
            }
        });
        jButtonGuardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonGuardarActionPerformed(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jButtonGuardar);
        jButtonGuardar.setBounds(430, 460, 130, 39);

        jLabel8.setText("Tipo personal");
        jPanelConsultarDatosPersonales.add(jLabel8);
        jLabel8.setBounds(400, 330, 110, 14);

        jRadioButtonFarmaceutico.setText("Farmacéutico");
        jRadioButtonFarmaceutico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonFarmaceuticoActionPerformed(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jRadioButtonFarmaceutico);
        jRadioButtonFarmaceutico.setBounds(400, 370, 130, 23);

        jRadioButtonAnalista.setText("Analista");
        jRadioButtonAnalista.setEnabled(false);
        jPanelConsultarDatosPersonales.add(jRadioButtonAnalista);
        jRadioButtonAnalista.setBounds(400, 350, 100, 23);

        jRadioButtonRadiologo.setText("Radiólogo");
        jRadioButtonRadiologo.setEnabled(false);
        jRadioButtonRadiologo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonRadiologoActionPerformed(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jRadioButtonRadiologo);
        jRadioButtonRadiologo.setBounds(400, 410, 120, 23);

        jRadioButtonMedico.setText("Médico");
        jRadioButtonMedico.setEnabled(false);
        jRadioButtonMedico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonMedicoActionPerformed(evt);
            }
        });
        jPanelConsultarDatosPersonales.add(jRadioButtonMedico);
        jRadioButtonMedico.setBounds(400, 390, 110, 23);
        jPanelConsultarDatosPersonales.add(dateChooserCombo3);
        dateChooserCombo3.setBounds(160, 340, 155, 20);

        jPanelConsultarDatosPersonales.setBounds(-60, -15, 960, 830);
        ZonaTrabajo.add(jPanelConsultarDatosPersonales, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanelConsultarTurno.setMinimumSize(new java.awt.Dimension(901, 510));
        jPanelConsultarTurno.setPreferredSize(new java.awt.Dimension(901, 531));

        jLabelDNITurno.setText("DNI");

        jTextFieldDNIGestionarTurno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldDNIGestionarTurnoKeyTyped(evt);
            }
        });

        jTextAreaInfoConsultaTurno.setBackground(new java.awt.Color(255, 204, 102));
        jTextAreaInfoConsultaTurno.setColumns(17);
        jTextAreaInfoConsultaTurno.setEditable(false);
        jTextAreaInfoConsultaTurno.setFont(new java.awt.Font("Lucida Grande", 0, 18));
        jTextAreaInfoConsultaTurno.setRows(3);
        jTextAreaInfoConsultaTurno.setText("Introduce el DNI del personal, una fecha y las horas que trabaja el personal para guardar\nsu turno. Si introduces un DNI y pulsas consultar se sabe el turno del DNI.");
        jScrollPane4.setViewportView(jTextAreaInfoConsultaTurno);

        jTextAreaInfoTurno.setBackground(new java.awt.Color(255, 204, 102));
        jTextAreaInfoTurno.setColumns(17);
        jTextAreaInfoTurno.setEditable(false);
        jTextAreaInfoTurno.setFont(new java.awt.Font("Lucida Grande", 0, 18));
        jTextAreaInfoTurno.setRows(3);
        jTextAreaInfoTurno.setText("Modifica la fecha y la shorts en trabajar del trabajador con el DNI del formulario,\nluego dale a \"Guardar\" y se actualizará su turno de trabajo. \nSi deseas consultar el turno de otro DNI, introdúcuelo y dale a \"Consultar\"");
        jScrollPane5.setViewportView(jTextAreaInfoTurno);

        jLabelGestionarPaciente6.setFont(new java.awt.Font("Lucida Grande", 1, 48));
        jLabelGestionarPaciente6.setText("Consultar Turno");

        jTextFieldInicioTurno.setEditable(false);
        jTextFieldInicioTurno.setText("1");

        jLabelFechaInicioTurno.setText("Fecha inicio");

        jLabel9.setText("_____________________________________________________________________________");

        jTextFieldFinTurno.setEditable(false);
        jTextFieldFinTurno.setText("1");

        jLabelFechaFinTurno.setText("Fecha fin");

        jLabelTurnoTrabajo.setText("Turno de trabajo");

        jRadioButtonManiana.setText("Mañana (8h-16h)");

        jRadioButtonTarde1.setText("Tarde (16h-24h)");
        jRadioButtonTarde1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButtonTarde1ActionPerformed(evt);
            }
        });

        jRadioButtonNoche.setText("Noche (24h-8h)");

        org.jdesktop.layout.GroupLayout jPanelConsultarTurnoLayout = new org.jdesktop.layout.GroupLayout(jPanelConsultarTurno);
        jPanelConsultarTurno.setLayout(jPanelConsultarTurnoLayout);
        jPanelConsultarTurnoLayout.setHorizontalGroup(
            jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                        .add(273, 273, 273)
                        .add(jLabelGestionarPaciente6))
                    .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                        .add(110, 110, 110)
                        .add(jTextFieldInicioTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 107, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(138, 138, 138)
                        .add(jTextFieldFinTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 97, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(214, Short.MAX_VALUE))
            .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                    .add(0, 40, Short.MAX_VALUE)
                    .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(120, 120, 120)
                            .add(jLabel9))
                        .add(jScrollPane4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 780, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(jScrollPane5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 780, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(290, 290, 290)
                            .add(jLabelDNITurno)
                            .add(16, 16, 16)
                            .add(jTextFieldDNIGestionarTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 95, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(80, 80, 80)
                            .add(jLabelFechaInicioTurno)
                            .add(185, 185, 185)
                            .add(jLabelFechaFinTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 74, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(136, 136, 136)
                            .add(jLabelTurnoTrabajo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 110, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(540, 540, 540)
                            .add(jRadioButtonManiana, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 150, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(540, 540, 540)
                            .add(jRadioButtonTarde1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 150, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(540, 540, 540)
                            .add(jRadioButtonNoche, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 150, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                    .add(0, 40, Short.MAX_VALUE)))
        );
        jPanelConsultarTurnoLayout.setVerticalGroup(
            jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                .add(65, 65, 65)
                .add(jLabelGestionarPaciente6)
                .add(235, 235, 235)
                .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jTextFieldInicioTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jTextFieldFinTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(149, Short.MAX_VALUE))
            .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                    .add(50, 121, Short.MAX_VALUE)
                    .add(jLabel9)
                    .add(24, 24, 24)
                    .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                        .add(jScrollPane4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 120, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(jScrollPane5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 120, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(20, 20, 20)
                    .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                        .add(jPanelConsultarTurnoLayout.createSequentialGroup()
                            .add(10, 10, 10)
                            .add(jLabelDNITurno))
                        .add(jTextFieldDNIGestionarTurno, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(12, 12, 12)
                    .add(jPanelConsultarTurnoLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                        .add(jLabelFechaInicioTurno)
                        .add(jLabelFechaFinTurno)
                        .add(jLabelTurnoTrabajo))
                    .add(14, 14, 14)
                    .add(jRadioButtonManiana)
                    .add(7, 7, 7)
                    .add(jRadioButtonTarde1)
                    .add(2, 2, 2)
                    .add(jRadioButtonNoche)
                    .add(17, 90, Short.MAX_VALUE)))
        );

        jPanelConsultarTurno.setBounds(0, 0, 860, -1);
        ZonaTrabajo.add(jPanelConsultarTurno, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jTextAreaInfo4.setBackground(new java.awt.Color(255, 204, 102));
        jTextAreaInfo4.setColumns(17);
        jTextAreaInfo4.setEditable(false);
        jTextAreaInfo4.setFont(new java.awt.Font("Lucida Grande", 0, 18));
        jTextAreaInfo4.setRows(3);
        jTextAreaInfo4.setText(" \n  Estos son los medicamentos recetados para la receta\n");
        jScrollPane8.setViewportView(jTextAreaInfo4);

        scrollPaneMedicamentosReceta.setBackground(new java.awt.Color(254, 254, 254));

        jScrollPane2.setViewportView(jListMedicamentosDispensar);

        scrollPaneMedicamentosReceta.add(jScrollPane2);

        jLabelGestionarPaciente11.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente11.setText("Dispensar Medicamentos");

        jLabel22.setText("_________________________________________________________________________");

        jLabel20.setText("Nombre del medicamento aún sin dispensar");

        jLabel23.setText("Stock");

        jButtonDispensarFinal.setText("Dispensar");
        jButtonDispensarFinal.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonDispensarFinalMouseClicked(evt);
            }
        });

        jButtonFinalizar.setText("Finalizar");
        jButtonFinalizar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonFinalizarMouseClicked(evt);
            }
        });

        jLabel13.setText("Código de barras");

        org.jdesktop.layout.GroupLayout jPanelDispensarFinalLayout = new org.jdesktop.layout.GroupLayout(jPanelDispensarFinal);
        jPanelDispensarFinal.setLayout(jPanelDispensarFinalLayout);
        jPanelDispensarFinalLayout.setHorizontalGroup(
            jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarFinalLayout.createSequentialGroup()
                .add(140, 140, 140)
                .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel22)
                    .add(jLabelGestionarPaciente11, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 627, Short.MAX_VALUE))
                .add(42, 42, 42))
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarFinalLayout.createSequentialGroup()
                .addContainerGap(224, Short.MAX_VALUE)
                .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarFinalLayout.createSequentialGroup()
                        .add(jLabel20, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 330, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(76, 76, 76)
                        .add(jLabel23)
                        .add(129, 129, 129))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarFinalLayout.createSequentialGroup()
                        .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                            .add(scrollPaneMedicamentosReceta, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 494, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jScrollPane8, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 494, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(91, 91, 91))))
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarFinalLayout.createSequentialGroup()
                .addContainerGap(326, Short.MAX_VALUE)
                .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jButtonFinalizar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 117, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jPanelDispensarFinalLayout.createSequentialGroup()
                        .add(jLabel13)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jTextFieldCodBarras2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 91, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(41, 41, 41)
                        .add(jButtonDispensarFinal, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 110, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .add(155, 155, 155))
        );
        jPanelDispensarFinalLayout.setVerticalGroup(
            jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelDispensarFinalLayout.createSequentialGroup()
                .add(jLabelGestionarPaciente11)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jLabel22)
                .add(27, 27, 27)
                .add(jScrollPane8, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(18, 18, 18)
                .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel20)
                    .add(jLabel23))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(scrollPaneMedicamentosReceta, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 168, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(25, 25, 25)
                .add(jPanelDispensarFinalLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel13)
                    .add(jTextFieldCodBarras2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jButtonDispensarFinal))
                .add(35, 35, 35)
                .add(jButtonFinalizar)
                .addContainerGap(797, Short.MAX_VALUE))
        );

        jPanelDispensarFinal.setBounds(0, 0, -1, -1);
        ZonaTrabajo.add(jPanelDispensarFinal, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jButtonConsultarReceta.setText("Consultar");
        jButtonConsultarReceta.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonConsultarRecetaMouseClicked(evt);
            }
        });
        jButtonConsultarReceta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonConsultarRecetaActionPerformed(evt);
            }
        });

        jLabelGestionarPaciente10.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente10.setText("Dispensar Medicamentos");

        jLabel18.setText("_________________________________________________________________________");

        scrollPaneRecetas.setBackground(new java.awt.Color(254, 254, 254));

        jList1.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jScrollPane7.setViewportView(jList1);

        org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jScrollPane7, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE)
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jScrollPane7, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 204, Short.MAX_VALUE)
        );

        scrollPaneRecetas.add(jPanel2);

        jLabel17.setText("Fecha");

        jLabel19.setText("Medico");

        org.jdesktop.layout.GroupLayout jPanelDispensarConsultarLayout = new org.jdesktop.layout.GroupLayout(jPanelDispensarConsultar);
        jPanelDispensarConsultar.setLayout(jPanelDispensarConsultarLayout);
        jPanelDispensarConsultarLayout.setHorizontalGroup(
            jPanelDispensarConsultarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarConsultarLayout.createSequentialGroup()
                .add(146, 146, 146)
                .add(jPanelDispensarConsultarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel18)
                    .add(jLabelGestionarPaciente10, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 582, Short.MAX_VALUE)))
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelDispensarConsultarLayout.createSequentialGroup()
                .addContainerGap(245, Short.MAX_VALUE)
                .add(jPanelDispensarConsultarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanelDispensarConsultarLayout.createSequentialGroup()
                        .add(34, 34, 34)
                        .add(jLabel17)
                        .add(126, 126, 126)
                        .add(jLabel19))
                    .add(scrollPaneRecetas, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 323, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jButtonConsultarReceta, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 127, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(160, 160, 160))
        );
        jPanelDispensarConsultarLayout.setVerticalGroup(
            jPanelDispensarConsultarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelDispensarConsultarLayout.createSequentialGroup()
                .addContainerGap()
                .add(jLabelGestionarPaciente10)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jLabel18)
                .add(18, 18, 18)
                .add(jPanelDispensarConsultarLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel17)
                    .add(jLabel19))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(scrollPaneRecetas, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 204, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(41, 41, 41)
                .add(jButtonConsultarReceta)
                .addContainerGap(122, Short.MAX_VALUE))
        );

        jPanelDispensarConsultar.setBounds(0, 0, -1, 510);
        ZonaTrabajo.add(jPanelDispensarConsultar, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabelGestionarPaciente12.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente12.setText("Modificar Lote Medicamento");

        jLabel24.setText("__________________________________________________________________________________");

        jTextFieldExistencias1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldExistencias1ActionPerformed(evt);
            }
        });
        jTextFieldExistencias1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldExistencias1KeyTyped(evt);
            }
        });

        jLabel25.setText("Existencias");

        jLabelFechaCad.setText("Fecha Caducidad");

        jButtonModificarLote.setText("Modificar");
        jButtonModificarLote.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonModificarLoteActionPerformed(evt);
            }
        });

        jButtonELiminarLote.setText("Eliminar");
        jButtonELiminarLote.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jButtonELiminarLoteMouseReleased(evt);
            }
        });
        jButtonELiminarLote.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonELiminarLoteActionPerformed(evt);
            }
        });

        jLabelError6.setForeground(new java.awt.Color(255, 0, 0));
        jLabelError6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelError6.setText("Faltan datos por introducir");

        jLabelErrorFecha1.setForeground(new java.awt.Color(255, 0, 0));
        jLabelErrorFecha1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelErrorFecha1.setText("Fecha no válida");

        jLabelCodigoBarras.setText("Codigo de Barras ");

        org.jdesktop.layout.GroupLayout jPanelModificarLoteLayout = new org.jdesktop.layout.GroupLayout(jPanelModificarLote);
        jPanelModificarLote.setLayout(jPanelModificarLoteLayout);
        jPanelModificarLoteLayout.setHorizontalGroup(
            jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanelModificarLoteLayout.createSequentialGroup()
                .addContainerGap(203, Short.MAX_VALUE)
                .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelGestionarPaciente12, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 685, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jLabel24))
                .add(41, 41, 41))
            .add(jPanelModificarLoteLayout.createSequentialGroup()
                .add(53, 53, 53)
                .add(jOptionPaneEliminarLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 71, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 168, Short.MAX_VALUE)
                .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelCodigoBarras)
                    .add(jPanelModificarLoteLayout.createSequentialGroup()
                        .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jTextFieldCodigoBarras, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 110, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanelModificarLoteLayout.createSequentialGroup()
                                .add(12, 12, 12)
                                .add(jLabel25))
                            .add(jPanelModificarLoteLayout.createSequentialGroup()
                                .add(12, 12, 12)
                                .add(jTextFieldExistencias1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 77, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                            .add(jPanelModificarLoteLayout.createSequentialGroup()
                                .add(1, 1, 1)
                                .add(jLabelFechaCad, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 133, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                            .add(org.jdesktop.layout.GroupLayout.TRAILING, dateChooserCombo2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(63, 63, 63)
                        .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jLabelError6, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 254, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanelModificarLoteLayout.createSequentialGroup()
                                .add(51, 51, 51)
                                .add(jButtonELiminarLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 98, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                            .add(jPanelModificarLoteLayout.createSequentialGroup()
                                .add(50, 50, 50)
                                .add(jButtonModificarLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 102, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                            .add(jLabelErrorFecha1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 146, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                .add(165, 165, 165))
        );
        jPanelModificarLoteLayout.setVerticalGroup(
            jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanelModificarLoteLayout.createSequentialGroup()
                .addContainerGap()
                .add(jLabelGestionarPaciente12)
                .add(6, 6, 6)
                .add(jLabel24)
                .add(36, 36, 36)
                .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jOptionPaneEliminarLote, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jPanelModificarLoteLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                        .add(jPanelModificarLoteLayout.createSequentialGroup()
                            .add(jButtonELiminarLote)
                            .add(26, 26, 26)
                            .add(jLabelError6)
                            .add(10, 10, 10)
                            .add(jButtonModificarLote)
                            .add(10, 10, 10)
                            .add(jLabelErrorFecha1))
                        .add(jPanelModificarLoteLayout.createSequentialGroup()
                            .add(jLabelCodigoBarras)
                            .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                            .add(jTextFieldCodigoBarras, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(18, 18, 18)
                            .add(jLabel25)
                            .add(6, 6, 6)
                            .add(jTextFieldExistencias1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(10, 10, 10)
                            .add(jLabelFechaCad))))
                .add(18, 18, 18)
                .add(dateChooserCombo2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(30, Short.MAX_VALUE))
        );

        jPanelModificarLote.setBounds(0, 0, -1, -1);
        ZonaTrabajo.add(jPanelModificarLote, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanelAnadirLote.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabelGestionarPaciente14.setFont(new java.awt.Font("Lucida Grande", 1, 36));
        jLabelGestionarPaciente14.setText("Añadir Lote Medicamento");
        jPanelAnadirLote.add(jLabelGestionarPaciente14, new org.netbeans.lib.awtextra.AbsoluteConstraints(75, 39, 572, -1));

        jLabel28.setText("_____________________________________________________________________________");
        jPanelAnadirLote.add(jLabel28, new org.netbeans.lib.awtextra.AbsoluteConstraints(65, 88, -1, -1));

        jTextFieldExistenc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldExistencActionPerformed(evt);
            }
        });
        jTextFieldExistenc.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextFieldExistencKeyTyped(evt);
            }
        });
        jPanelAnadirLote.add(jTextFieldExistenc, new org.netbeans.lib.awtextra.AbsoluteConstraints(209, 224, 77, -1));
        jPanelAnadirLote.add(jTextFieldCodBarras, new org.netbeans.lib.awtextra.AbsoluteConstraints(190, 154, 110, -1));

        jLabelExistenc.setText("Existencias");
        jPanelAnadirLote.add(jLabelExistenc, new org.netbeans.lib.awtextra.AbsoluteConstraints(209, 200, -1, -1));

        jLabelCodBarras2.setText("Codigo Barras");
        jPanelAnadirLote.add(jLabelCodBarras2, new org.netbeans.lib.awtextra.AbsoluteConstraints(190, 124, 121, 24));

        jLabelFechCad.setText("Fecha Caducidad");
        jPanelAnadirLote.add(jLabelFechCad, new org.netbeans.lib.awtextra.AbsoluteConstraints(190, 270, 133, -1));

        jButtonAnadirMedicamento.setText("Aceptar");
        jButtonAnadirMedicamento.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAnadirMedicamentoActionPerformed(evt);
            }
        });
        jButtonAnadirMedicamento.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                jButtonAnadirMedicamentoAncestorAdded(evt);
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });
        jPanelAnadirLote.add(jButtonAnadirMedicamento, new org.netbeans.lib.awtextra.AbsoluteConstraints(396, 301, -1, -1));

        jLabelErrorRepe.setForeground(new java.awt.Color(255, 0, 0));
        jLabelErrorRepe.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelErrorRepe.setText("El lote ya existe");
        jPanelAnadirLote.add(jLabelErrorRepe, new org.netbeans.lib.awtextra.AbsoluteConstraints(400, 250, 160, -1));
        jPanelAnadirLote.add(dateChooserCombo1, new org.netbeans.lib.awtextra.AbsoluteConstraints(178, 293, 150, 30));

        jLabelErrorFaltanDatos.setForeground(new java.awt.Color(255, 0, 0));
        jLabelErrorFaltanDatos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Intro/Error.png"))); // NOI18N
        jLabelErrorFaltanDatos.setText("Faltan datos por introducir");
        jPanelAnadirLote.add(jLabelErrorFaltanDatos, new org.netbeans.lib.awtextra.AbsoluteConstraints(396, 277, -1, -1));

        jPanelAnadirLote.setBounds(0, 0, -1, -1);
        ZonaTrabajo.add(jPanelAnadirLote, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanelUsuario.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        jPanelUsuario.setLayout(null);

        jLabelUsuario.setText("Usuario:");
        jPanelUsuario.add(jLabelUsuario);
        jLabelUsuario.setBounds(80, 10, 120, 14);

        jLabelTipoUsuario.setFont(new java.awt.Font("Lucida Grande", 1, 13));
        jLabelTipoUsuario.setText("Tipo Usuario");
        jPanelUsuario.add(jLabelTipoUsuario);
        jLabelTipoUsuario.setBounds(90, 40, 120, 18);

        jLabelNombreUsuario.setFont(new java.awt.Font("Lucida Grande", 1, 13));
        jLabelNombreUsuario.setText("Nombre");
        jPanelUsuario.add(jLabelNombreUsuario);
        jLabelNombreUsuario.setBounds(90, 60, 120, 18);
        jPanelUsuario.add(jLabelTipoUsuarioIdentificado);
        jLabelTipoUsuarioIdentificado.setBounds(10, 10, 70, 70);

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(20, 20, 20)
                .add(jLabelIcono, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 140, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(17, 17, 17)
                .add(jLabelCentroMedico, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 120, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(123, 123, 123)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelIconoInicio)
                    .add(jLabelInicio, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 44, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(36, 36, 36)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelIconoAyuda)
                    .add(jLabelAyuda, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 44, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(36, 36, 36)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelIconoSalir)
                    .add(layout.createSequentialGroup()
                        .add(10, 10, 10)
                        .add(jLabelSalir, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 40, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .add(35, 35, 35)
                .add(jPanelUsuario, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 220, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .add(layout.createSequentialGroup()
                .add(13, 13, 13)
                .add(ZonaTrabajo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 890, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(17, 17, 17)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabelIcono, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 150, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(layout.createSequentialGroup()
                        .add(51, 51, 51)
                        .add(jLabelCentroMedico))
                    .add(layout.createSequentialGroup()
                        .add(53, 53, 53)
                        .add(jLabelIconoInicio, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(3, 3, 3)
                        .add(jLabelInicio))
                    .add(layout.createSequentialGroup()
                        .add(53, 53, 53)
                        .add(jLabelIconoAyuda)
                        .add(3, 3, 3)
                        .add(jLabelAyuda))
                    .add(layout.createSequentialGroup()
                        .add(53, 53, 53)
                        .add(jLabelIconoSalir, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(3, 3, 3)
                        .add(jLabelSalir))
                    .add(layout.createSequentialGroup()
                        .add(30, 30, 30)
                        .add(jPanelUsuario, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 90, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .add(18, 18, 18)
                .add(ZonaTrabajo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 560, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents
    
    private void jLabelIconoInicioMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoInicioMouseEntered
        // TODO add your handling code here:
        jLabelIconoInicio.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Inicio-Activado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoInicioMouseEntered

    private void jLabelIconoInicioMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoInicioMouseExited
        // TODO add your handling code here:
        jLabelIconoInicio.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Inicio-Desactivado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoInicioMouseExited

    private void jLabelIconoAyudaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoAyudaMouseExited
        // TODO add your handling code here:
        jLabelIconoAyuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Ayuda-Desactivado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoAyudaMouseExited

    private void jLabelIconoAyudaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoAyudaMouseEntered
        // TODO add your handling code here:
        jLabelIconoAyuda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Ayuda-Activado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoAyudaMouseEntered

    private void jLabelIconoSalirMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoSalirMouseExited
        // TODO add your handling code here:
        jLabelIconoSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Salir-Desactivado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoSalirMouseExited

    private void jLabelIconoSalirMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoSalirMouseEntered
        // TODO add your handling code here:
        jLabelIconoSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Salir-Activado.png"))); // NOI18N
    }//GEN-LAST:event_jLabelIconoSalirMouseEntered

    private void jLabelIconoSalirMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoSalirMouseClicked
        // TODO add your handling code here:
        System.exit(0);
    }//GEN-LAST:event_jLabelIconoSalirMouseClicked

    private void jLabelIconoAyudaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoAyudaMouseClicked
        // TODO add your handling code here:
        new Ayuda().setVisible(true);
    }//GEN-LAST:event_jLabelIconoAyudaMouseClicked

    private void jButtonConsultarDatosPersonalesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarDatosPersonalesMouseClicked
        // TODO add your handling code here:
        mostrarPanel("GestionarPersonal");
    }//GEN-LAST:event_jButtonConsultarDatosPersonalesMouseClicked

    private void jButtonConsultarDatosPersonalesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonConsultarDatosPersonalesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonConsultarDatosPersonalesActionPerformed

    private void jLabelIconoInicioMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelIconoInicioMouseClicked
        // TODO add your handling code here:
        mostrarPanel("Principal");
    }//GEN-LAST:event_jLabelIconoInicioMouseClicked

    private void jButtonGestionarCitaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonGestionarCitaMouseClicked
        // TODO add your handling code here:
        mostrarPanel("GestionarTurno");

        TurnoBD turbd = new TurnoBD();
        PersonalMedicoBD personalbd= new PersonalMedicoBD();
        PersonalMedico personal= new PersonalMedico();

            personal = personalbd.obtener(jTextFieldDNIGestionarTurno.getText());

            if ( personal!=null ){
                System.out.println("El DNI Es de un PersonalMedico");

                if(personal.getTurno() != null){
                    jTextFieldInicioTurno.setText(personal.getTurno().getHoraInicio().toString());
                    jTextFieldFinTurno.setText(personal.getTurno().getHoraFin().toString());
                    if(personal.getTurno().getTipo().equals("Maniana")){
                        jRadioButtonManiana.setSelected(true);
                    }else
                        if(personal.getTurno().getTipo().equals("Tarde")){
                            jRadioButtonTarde1.setSelected(true);
                        }else
                            if(personal.getTurno().getTipo().equals("Noche")){
                                jRadioButtonNoche.setSelected(true);
                            }

                    new InformacionExito().setVisible(true);
                }
                else{
                    System.out.println("Este personal medico no tiene turno asignado");
                    new InformacionError().setVisible(true);
                }
            }
            else{
                System.out.println("El DNI NO Es de un PersonalMedico");
                new InformacionError().setVisible(true);
            }
    }//GEN-LAST:event_jButtonGestionarCitaMouseClicked

    private void jTextFieldTelefonoPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldTelefonoPersonalKeyTyped
        // TODO add your handling code here:

        /**Comprobamos que no se teclee una letra*/
        
            
        char teclaPresionada = evt.getKeyChar();
        if(jTextFieldTelefonoPersonal.getText().length() < 9)
            if(Character.isDigit(teclaPresionada) == false)
                evt.consume();

        if(jTextFieldTelefonoPersonal.getText().length() >= 9)
            evt.consume();
    }//GEN-LAST:event_jTextFieldTelefonoPersonalKeyTyped

    private void jTextFieldNombrePersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldNombrePersonalKeyTyped
        // TODO add your handling code here:

        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == true)
            evt.consume();
}//GEN-LAST:event_jTextFieldNombrePersonalKeyTyped

    private void jTextFieldDNIPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldDNIPersonalKeyTyped
        // TODO add your handling code here:

        /**Limitamos a que el DNI siempre sea correcto sintácticamente*/
        char teclaPresionada = evt.getKeyChar();

        if(jTextFieldDNIPersonal.getText().length() < 8)
            if(Character.isDigit(teclaPresionada) == false)
                evt.consume();

        if(jTextFieldDNIPersonal.getText().length() == 8)
            if(Character.isDigit(teclaPresionada) == true){
                evt.consume();
            }else if(Character.isLowerCase(teclaPresionada)){
                jTextFieldDNIPersonal.setText(jTextFieldDNIPersonal.getText().toUpperCase());
            }

        if(jTextFieldDNIPersonal.getText().length() > 8)
            evt.consume();
}//GEN-LAST:event_jTextFieldDNIPersonalKeyTyped

    private void jTextFieldApellidosPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldApellidosPersonalKeyTyped
        // TODO add your handling code here:

        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == true)
            evt.consume();
}//GEN-LAST:event_jTextFieldApellidosPersonalKeyTyped

    private void jTextFieldDireccionPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldDireccionPersonalKeyTyped
        // TODO add your handling code here:
}//GEN-LAST:event_jTextFieldDireccionPersonalKeyTyped

    private void jTextFieldEmailPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldEmailPersonalKeyTyped
        // TODO add your handling code here:
}//GEN-LAST:event_jTextFieldEmailPersonalKeyTyped

    private void jTextFieldLugarNacimientoPersonalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldLugarNacimientoPersonalKeyTyped
        // TODO add your handling code here:

        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == true)
            evt.consume();
}//GEN-LAST:event_jTextFieldLugarNacimientoPersonalKeyTyped

    private void jButtonGuardarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonGuardarMouseClicked
        // TODO add your handling code here:
        if(compruebaFormulario("GestionarPersonal")){
            GestorPersonal gesPer = new GestorPersonal();
            Date fechaNacimiento = null;                        //HAY QUE PROCESARLA LEYÉNDOLA DEL FORMULARIOOOO
            byte[] urlFoto = null;                              //HAY QUE GUARDAR LA FOTO Y PASAR LA RUTA DE DONDE ESTA
            boolean exito;
            String url=null;

            fechaNacimiento = dateChooserCombo2.getSelectedDate().getTime();
            String tipoPersonal = "Farmaceutico";

            try {
                exito = gesPer.modificarPersonalFarmacia(jTextFieldDNIPersonal.getText(), jTextFieldNombrePersonal.getText(), jTextFieldApellidosPersonal.getText(), jTextFieldDireccionPersonal.getText(), jTextFieldEmailPersonal.getText(),jTextFieldContraseniaPersonal.getText(), jTextFieldTelefonoPersonal.getText(), fechaNacimiento, jTextFieldLugarNacimientoPersonal.getText(), sfotografia, tipoPersonal);
                if(exito){
                    new InformacionExito().setVisible(true);
                    limpiarFormulario("GestionarPersonal");
                    }
                else
                    new InformacionError().setVisible(true);

            } catch (SQLException ex) {
                Logger.getLogger(UI_Administrador.class.getName()).log(Level.SEVERE, null, ex);
            }
        }


}//GEN-LAST:event_jButtonGuardarMouseClicked

    private void jButtonGuardarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonGuardarActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jButtonGuardarActionPerformed

    private void jRadioButtonFarmaceuticoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonFarmaceuticoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jRadioButtonFarmaceuticoActionPerformed

    private void jRadioButtonRadiologoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonRadiologoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jRadioButtonRadiologoActionPerformed

    private void jRadioButtonMedicoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonMedicoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jRadioButtonMedicoActionPerformed

    private void jTextFieldDNIGestionarTurnoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldDNIGestionarTurnoKeyTyped
        // TODO add your handling code here:

        /**Limitamos a que el DNI siempre sea correcto sintácticamente*/
        char teclaPresionada = evt.getKeyChar();

        if(jTextFieldDNIGestionarTurno.getText().length() < 8)
            if(Character.isDigit(teclaPresionada) == false)
                evt.consume();

        if(jTextFieldDNIGestionarTurno.getText().length() == 8)
            if(Character.isDigit(teclaPresionada) == true){
                evt.consume();
            }else if(Character.isLowerCase(teclaPresionada)){
                jTextFieldDNIGestionarTurno.setText(jTextFieldDNIGestionarTurno.getText().toUpperCase());
            }

        if(jTextFieldDNIGestionarTurno.getText().length() > 8)
            evt.consume();
}//GEN-LAST:event_jTextFieldDNIGestionarTurnoKeyTyped

    private void jRadioButtonTarde1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jRadioButtonTarde1ActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jRadioButtonTarde1ActionPerformed

    private void jButtonGestionarCitaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonGestionarCitaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonGestionarCitaActionPerformed

    private void jButtonComprobarStockMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonComprobarStockMouseClicked
        // TODO add your handling code here:
        mostrarPanel("ComprobarStock");
        ArrayList<ArrayList < String > > li = new ArrayList();
        GestorFarmacia gesFar = new GestorFarmacia();
        Medicamento Medica = new Medicamento();
        DefaultListModel modeloNombres = new DefaultListModel();
        DefaultListModel modeloExistMin = new DefaultListModel();
        DefaultListModel modeloStockActual = new DefaultListModel();
        li=gesFar.comprobarStockMedicamentos();
        ArrayList<String> Atributos = new ArrayList();
        String Nombre=null;
        String ExistenMin=null;
        String StockActual=null;
        
         int i=0;
         for( Iterator it = li.iterator(); it.hasNext();) {
	     Atributos = (ArrayList)it.next();
             Iterator iter = Atributos.iterator();
             
        
                    
                    Nombre = Atributos.get(0);
                    i++;
                    ExistenMin= Atributos.get(2);
                    StockActual = Atributos.get(1);
                    modeloNombres.addElement(Nombre);
                    modeloExistMin.addElement(ExistenMin);
                    modeloStockActual.addElement(StockActual);
            
             
             
        }
            
            
            
           jList2.setModel(modeloNombres);
           jList3.setModel(modeloExistMin);
           jList4.setModel(modeloStockActual);



    }//GEN-LAST:event_jButtonComprobarStockMouseClicked

    private void jButtonGestionarMedicamentoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonGestionarMedicamentoMouseClicked
        // TODO add your handling code here:
        limpiarFormulario("GestionarMedicamento");
        mostrarPanel("GestionarMedicamento");
    }//GEN-LAST:event_jButtonGestionarMedicamentoMouseClicked

    private void jButtonDispensarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonDispensarMouseClicked
        // TODO add your handling code here:
        jLabelErrorDNIPaciente.setVisible(false);
        mostrarPanel("DispensarMedicamentos1");
    }//GEN-LAST:event_jButtonDispensarMouseClicked

    private void jButtonComprobarStockActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonComprobarStockActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonComprobarStockActionPerformed

    private void jTextFieldDNIPacienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldDNIPacienteActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldDNIPacienteActionPerformed

    private void jButtonObtenerRecetasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonObtenerRecetasActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonObtenerRecetasActionPerformed

    private void jButtonConsultarRecetaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonConsultarRecetaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonConsultarRecetaActionPerformed

    private void jTextFieldExistencias1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldExistencias1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldExistencias1ActionPerformed

    private void jTextFieldExistencActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldExistencActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldExistencActionPerformed

    private void jButtonEliminarMedicamentoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEliminarMedicamentoActionPerformed



        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonEliminarMedicamentoActionPerformed

    private void jButtonConsultarLoteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonConsultarLoteActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonConsultarLoteActionPerformed

    private void jButtonAnadirLoteMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonAnadirLoteMouseClicked
        // TODO add your handling code here:
        mostrarPanel("AnadirLote");
    }//GEN-LAST:event_jButtonAnadirLoteMouseClicked

    private void jButtonConsultarLoteMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarLoteMouseClicked
        // TODO add your handling code here:

       if(compruebaFormulario("ConsultarMedicamentoLote")){

        GestorFarmacia gesFar = new GestorFarmacia();
        String CodBarras = jTextFieldCodLote.getText(); // duda
        Lo = gesFar.consultarLoteMedicamento(CodBarras, Me);


        if( Lo.getCodBarras() == null){
           jLabelError2.setVisible(false);
           jLabelErrorLote.setVisible(true);
           System.out.println( " El lote " + CodBarras + "no existe");
           new InformacionError().setVisible(true);

        }

        else{
           
           mostrarPanel("ModificarLote");
           String numExistenc=String.valueOf( Lo.getExistencias());

            Calendar calendar = Calendar.getInstance();
            calendar.setTime(Lo.getFechaCaducidad());
            dateChooserCombo2.setSelectedDate(calendar);
            int dia = calendar.get(Calendar.DAY_OF_MONTH);   //dia del mes
            int mes = calendar.get(Calendar.MONTH);
            mes=mes+1;//mes, de 0 a 11
            int anio = calendar.get(Calendar.YEAR);  //año

            String num_dia= String.valueOf(dia);
            String num_mes= String.valueOf(mes);
            String num_anio= String.valueOf(anio);
            
           jTextFieldCodigoBarras.setText(CodBarras);
           jTextFieldExistencias1.setText(numExistenc);
         //  jTextFieldDia1.setText(num_dia);
           //jTextFieldMes1.setText(num_mes);
           //jTextFieldAnio1.setText(num_anio);

        }
        }
        else
            jLabelError2.setVisible(true);
    }//GEN-LAST:event_jButtonConsultarLoteMouseClicked

    private void jButtonObtenerRecetasMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonObtenerRecetasMouseClicked
        // TODO add your handling code here:
     if(compruebaFormulario("dispensar")){
        GestorFarmacia gestFar = new GestorFarmacia();
        resumenRecetas = null;
        PacienteBD pac = new PacienteBD();
        Paciente pacien = null;

            pacien = pac.obtener(jTextFieldDNIPaciente.getText());
       
        if(pacien == null)
            jLabelErrorDNIPaciente.setVisible(true);
        else{
            mostrarPanel("DispensarConsultar");
            try {
                resumenRecetas = gestFar.consultarResumenRecetas(jTextFieldDNIPaciente.getText());
                 } catch (SQLException ex) {
                  Logger.getLogger(UI_Farmaceutico.class.getName()).log(Level.SEVERE, null, ex);
                    }
        
             DefaultListModel listModel = new DefaultListModel();
             Receta rec;
            for(Iterator it = resumenRecetas.iterator(); it.hasNext();){
                rec = (Receta) it.next();
                 listModel.addElement(rec.getFecha());
             }

             jList1.setModel(listModel);
        }
        }
         else
            jLabelError5.setVisible(true);
    }//GEN-LAST:event_jButtonObtenerRecetasMouseClicked

    private void jButtonConsultarRecetaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarRecetaMouseClicked
        // TODO add your handling code here:

        int posicion;
        smR = null;
        posicion = jList1.getSelectedIndex();
        Receta rec = null;
        Iterator it = resumenRecetas.iterator();
        GestorFarmacia gF = new GestorFarmacia();
        //ListaCodBarras.clear();

        System.out.println("1");
        for(int i=0; i<=posicion;i++){
            rec = (Receta) it.next();
        }


        System.out.println("2");
        DefaultListModel listModel = new DefaultListModel();
        System.out.println("Receta: "+ rec.getId());
        smR = rec.getMedicamentosRecetados();
        System.out.println("3");
        for( Iterator itsmr = smR.iterator(); itsmr.hasNext();) {
            MedicamentoRecetado mR = new MedicamentoRecetado();
            mR = (MedicamentoRecetado) itsmr.next();
            listModel.addElement(mR.getPosologia());
            System.out.println("4");

        }
        System.out.println("5");

        jListMedicamentosDispensar.setModel(listModel);

        recetag = gF.mostrarReceta(rec.getId());

        mostrarPanel("DispensarFinal");
    }//GEN-LAST:event_jButtonConsultarRecetaMouseClicked

    private void jButtonModificarMedicaMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonModificarMedicaMouseReleased
        // TODO add your handling code here:
        boolean exito;
      if(compruebaFormulario("ConsultarMedicamentoModificarEliminar")){
        GestorFarmacia gesFar= new GestorFarmacia();
        String Nombre= jTextFieldNombreMedicamento.getText();
        int ExistenciasMinimas = Integer.parseInt(jTextFieldExistencias.getText());
        String Descripcion = jTextAreaConsulDescrip.getText();

       // int StockActual = Integer.parseInt(jTextFieldStockActual.getText());
        //tomar datos de los campos,procesarlos y pasarselos a la siguiente funcion
       
        Me.setDescripcion(Descripcion);
        Me.setExistenciasMinimas(ExistenciasMinimas);
        //Me.setStockActual(StockActual);
        exito = gesFar.modificarMedicamento(Me);


        if( exito==false){
            System.out.println("El medicamento" +Nombre+ "ya existe, pongale otro nombre");
            new InformacionError().setVisible(true);
        }
        else{
          
           new InformacionExito().setVisible(true);


        }
        }
        else
             jLabelError2.setVisible(true);
        
    }//GEN-LAST:event_jButtonModificarMedicaMouseReleased



    private void jButtonAnadirMedicamentoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAnadirMedicamentoActionPerformed
        // TODO add your handling code here:
      if(compruebaFormulario("AnadirLote")){
        boolean exito;
        GestorFarmacia gesFar = new GestorFarmacia();
        String CodBarras=jTextFieldCodBarras.getText();
        int Existencias=Integer.parseInt(jTextFieldExistenc.getText());

       
            SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
       
            
            Date DateCadu = null;
            DateCadu = dateChooserCombo1.getSelectedDate().getTime();




            exito= gesFar.anadirLoteMedicamento(CodBarras,Existencias,DateCadu,Me );

            if( exito == false){

                 System.out.println("El lote" + jTextFieldCodBarras.getText() + " ya existe");
                 jLabelErrorRepe.setVisible(true);
             }

             else{
                new InformacionExito().setVisible(true);
                mostrarPanel("GestionarMedicamento");
            }
    
        }
        else
            jLabelErrorFaltanDatos.setVisible(true);

//GEN-LAST:event_jButtonAnadirMedicamentoActionPerformed
}

    private void jButtonELiminarLoteMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonELiminarLoteMouseReleased

       // TODO add your handling code here
       if(compruebaFormulario("ModificarLote")){
        boolean exito;
        LoteMedicamentoBD loBD=new LoteMedicamentoBD();
        int option;
        boolean pulsado;

        jLabelError6.setVisible(false);
        option = jOptionPaneEliminarLote.showConfirmDialog(null, "¿Esta seguro que desea eliminar el lote de medicamento ?");
        
        if(option == 0){
            GestorFarmacia gesFar = new GestorFarmacia();
            exito = gesFar.eliminarLoteMedicamento(Lo,Me);
        
            if( exito == false)
                System.out.println("Ya existe un Lote con " +jTextFieldCodigoBarras.getText());
        
            else{
             limpiarFormulario("ModificarLote");
             new InformacionExito().setVisible(true);
             mostrarPanel("GestionarMedicamento");
            }
        }

        else{
            new InformacionError().setVisible(true);
        }
        }
       else
        jLabelError6.setVisible(true);
    }//GEN-LAST:event_jButtonELiminarLoteMouseReleased

    private void jButtonModificarLoteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonModificarLoteActionPerformed
        // TODO add your handling code here:

      if(compruebaFormulario("ModificarLote")){
        GestorFarmacia gesFar = new GestorFarmacia();
        boolean exito;

        String CodBarras=jTextFieldCodigoBarras.getText();
        int Existencias = Integer.parseInt(jTextFieldExistencias1.getText());


        // lo pongo en cuarentenaaa
        Date DateCadu = null;
        DateCadu = dateChooserCombo2.getSelectedDate().getTime();
           
       
        Lo.setExistencias(Existencias);
        Lo.setFechaCaducidad(DateCadu);
        

        exito = gesFar.modificarLoteMedicamento(Lo,Me);

        if( exito == false){
            System.out.println(" Ya existe un lote con " + CodBarras);
            new InformacionError().setVisible(true);
        }
        else{
            
            limpiarFormulario("ModificarLote");
            new InformacionExito().setVisible(true);
            mostrarPanel("GestionarMedicamento");
        }
       
       }
         else
            jLabelError6.setVisible(true);
    }//GEN-LAST:event_jButtonModificarLoteActionPerformed

    private void jButtonEliminarMedicamentoMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonEliminarMedicamentoMouseReleased

       // TODO add your handling code here:
        //solicita confirmacion
        // si confirma:
      if(compruebaFormulario("ConsultarMedicamentoModificarEliminar")){
        int option;
        boolean exito;
        option = jOptionPaneConfirmar.showConfirmDialog(null, "Si elimina el medicamento, también se borrarán los lotes asocidos ¿Está seguro?");
        //System.out.println("option es"+option);
//        pulsado = panelInfo.botonPulsado(evt);

        if( option == 0){
            GestorFarmacia gesFar = new GestorFarmacia();
            exito = gesFar.eliminarMedicamento(Me);
            if( exito){
                 new InformacionExito().setVisible(true);
                 limpiarFormulario("ConsultarMedicamento");
                 mostrarPanel("GestionarMedicamento");
            }
             else
                new InformacionError().setVisible(false);
        }
        else
            new InformacionError().setVisible(false);
        }
        else
            jLabelError2.setVisible(true);


    }//GEN-LAST:event_jButtonEliminarMedicamentoMouseReleased

    private void jButtonModificarLoteMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonModificarLoteMouseClicked
        // TODO add your handling code here:
    //    if(compruebaFormulario(""))

    //    else
    //        jLabelError1.setVisible(true);
    }//GEN-LAST:event_jButtonModificarLoteMouseClicked

    private void jButtonAnadirMedicamentoAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_jButtonAnadirMedicamentoAncestorAdded
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonAnadirMedicamentoAncestorAdded

    private void jButtonELiminarLoteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonELiminarLoteActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonELiminarLoteActionPerformed

    private void jButtonConsultarLoteMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarLoteMouseEntered
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonConsultarLoteMouseEntered

    private void jTextFieldStockActualKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldStockActualKeyTyped
        // TODO add your handling code here:
       char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == false)
            evt.consume();

        /**Limitamos la longitud*/
        if(jTextFieldStockActual.getText().length() > 20)
            evt.consume();
    }//GEN-LAST:event_jTextFieldStockActualKeyTyped

    private void jTextFieldExistenciasKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldExistenciasKeyTyped
        // TODO add your handling code here:
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == false)
            evt.consume();

        /**Limitamos la longitud*/
        if(jTextFieldExistencias.getText().length() > 4)
            evt.consume();
    }//GEN-LAST:event_jTextFieldExistenciasKeyTyped

    private void jTextFieldCodLoteKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldCodLoteKeyTyped
        // TODO add your handling code here:
        
    }//GEN-LAST:event_jTextFieldCodLoteKeyTyped

    private void jTextFieldCodigoBarrasKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldCodigoBarrasKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldCodigoBarrasKeyTyped

    private void jTextFieldExistencias1KeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldExistencias1KeyTyped
        // TODO add your handling code here:
        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == false)
            evt.consume();

        /**Limitamos la longitud*/
        if(jTextFieldExistencias1.getText().length() > 4)
            evt.consume();
    }//GEN-LAST:event_jTextFieldExistencias1KeyTyped

    private void jTextFieldExistencKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldExistencKeyTyped
        // TODO add your handling code here:
        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == false)
            evt.consume();

        /**Limitamos la longitud*/
        if(jTextFieldExistenc.getText().length() > 4)
            evt.consume();
    }//GEN-LAST:event_jTextFieldExistencKeyTyped

    private void jTextFieldDNIPacienteKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldDNIPacienteKeyTyped
        // TODO add your handling code here:
          /**Limitamos a que el DNI siempre sea correcto sintácticamente*/
        char teclaPresionada = evt.getKeyChar();

        if(jTextFieldDNIPaciente.getText().length() < 8)
            if(Character.isDigit(teclaPresionada) == false)
                evt.consume();

        if(jTextFieldDNIPaciente.getText().length() == 8)
            if(Character.isDigit(teclaPresionada) == true){
                evt.consume();
                }else if(Character.isLowerCase(teclaPresionada)){
                    jTextFieldDNIPaciente.setText(jTextFieldDNIPaciente.getText().toUpperCase());
                }

        if(jTextFieldDNIPaciente.getText().length() > 8)
            evt.consume();
    }//GEN-LAST:event_jTextFieldDNIPacienteKeyTyped

    private void jButtonDispensarFinalMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonDispensarFinalMouseClicked
        // TODO add your handling code here:
        System.out.println("1");
        ListaCodBarras.add(jTextFieldCodBarras2.getText());
        System.out.println("2");

    }//GEN-LAST:event_jButtonDispensarFinalMouseClicked

    private void jButtonFinalizarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonFinalizarMouseClicked
        // TODO add your handling code here:
        GestorFarmacia gF = new GestorFarmacia();

        if(ListaCodBarras.isEmpty()){
            System.out.println("La lista esta vacía");
        }

        else{
            gF.dispensarMedicamentos(ListaCodBarras, recetag);
        }
    }//GEN-LAST:event_jButtonFinalizarMouseClicked

    private void jButtonConsultarMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarMouseReleased
        // TODO add your handling code here:

        if(compruebaFormulario("ConsultarMedica")){
            jLabelError3.setVisible(false);
            GestorFarmacia gesFar= new GestorFarmacia();
            String Nombre = jTextFieldNombreMedicamento.getText();
            Me=gesFar.consultarMedicamento(Nombre); // tomar nombre del jtextfieldddd
            jTextFieldStockActual.setEnabled(false);
            if( Me==null){

                new InformacionError().setVisible(true);
                jLabelError4.setVisible(true);
                System.out.println(" El medicamento"+ Nombre + " no existe");
            } else{ // establecemos la informacion en la interfaz
                jTextFieldNombreMedica.setText( Me.getNombre());
                jTextAreaConsulDescrip.setText(Me.getDescripcion());
                String StockActual = String.valueOf(Me.getStockActual());
                jTextFieldStockActual.setText(StockActual);
                String ExistenciasMinimas= String.valueOf(Me.getExistenciasMinimas());
                jTextFieldExistencias.setText(ExistenciasMinimas);
                mostrarPanel("ConsultarMedicamento");

            }
        } else{
            jLabelError3.setVisible(true);
            jLabelError4.setVisible(false);
        }
}//GEN-LAST:event_jButtonConsultarMouseReleased

    private void jButtonConsultarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonConsultarMouseClicked
        // TODO add your handling code her


    }//GEN-LAST:event_jButtonConsultarMouseClicked

    private void jButtonAnadirMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonAnadirMouseReleased

        // TODO add your handling code here:
        if(compruebaFormulario("GestionarMedicamento")){
            GestorFarmacia gesFar= new GestorFarmacia();
            jLabelError3.setVisible(false);
            boolean exito;
            String Nombre = jTextFieldNombreMedicamento.getText();
            String Descripcion = jTextAreaDescripcion.getText();
            int ExistenciasMinimas = Integer.parseInt(jTextFieldStockMinimo.getText());
            int StockActual=0;

            exito=gesFar.anadirMedicamento(Nombre,Descripcion,ExistenciasMinimas,StockActual);

            if( exito==true)
                new InformacionExito().setVisible(true);
            else{
                System.out.println("El medicamento"+Nombre+" ya existe");
                jLabelExisteMedica.setVisible(true);
            }
            limpiarFormulario("GestionarMedicamento");
        } else{
            jLabelError3.setVisible(true);
            jLabelError4.setVisible(false);
        }
    }//GEN-LAST:event_jButtonAnadirMouseReleased

    private void jTextFieldStockMinimoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldStockMinimoKeyTyped
        // TODO add your handling code here:
        /**Comprobamos que no se teclee un número*/
        char teclaPresionada = evt.getKeyChar();
        if(Character.isDigit(teclaPresionada) == false)
            evt.consume();

        /**Limitamos la longitud*/
        if(jTextFieldStockMinimo.getText().length() > 4)
            evt.consume();
}//GEN-LAST:event_jTextFieldStockMinimoKeyTyped

    private void jTextFieldNombreMedicamentoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldNombreMedicamentoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jTextFieldNombreMedicamentoActionPerformed


    /*Comprueba que la fecha introducida es correcta
     * 
     *@param persona, string que indica si se trata del formulario de Paciente o Personal
     *@return booleano diciendo si es válido o no
     */
    
private boolean compruebaFecha(String persona){

        int dia = 0;
        int mes = 0;
        int anio = 0;
        int diaActual;
        int mesActual;
        int anioActual;
        Calendar fecha;
        if(persona.equals("GestionarPersonal")){
           fecha=dateChooserCombo2.getSelectedDate();
           dia=fecha.get(Calendar.DATE);
           mes=fecha.get(Calendar.MONTH)+1;
           anio=fecha.get(Calendar.YEAR);
        }

         Date fechaa= new Date();
         diaActual=fechaa.getDate();
         mesActual=fechaa.getMonth()+1;
         anioActual=fechaa.getYear()+1901;


        /**Si se sale de los rangos*/
        if((dia <= 0)
                || (dia > 31)
                || (mes <= 0)
                || (mes > 12)
                || (anio < 1900)
                || (anio > anioActual) ){
            return false;
        }

        /**Si ha nacido en el año actual, hay que ver que el mes no sea mayor que el actual*/
        /**Si ha nacido en el año y mes actual, hay que comprobar que el dia sea menor que el actual*/
        if(anio == anioActual){
            if(mes > mesActual){
                return false;
            } else{
                if(dia > diaActual){
                    return false;
                }
            }
        }

        /**Si estamos en un mes que tiene 30 días o 29 en el caso de febrero, hay que comprobar que no se pase*/
        if(mes%2 == 0){
            if((mes == 2) && (dia >29)){
                return false;
            }else{
                if(dia > 30){
                    return false;
                }
            }
        }

        return true;

    }


     /*Borra el formulario elegido
     *
     *@param persona, string que indica si se trata del formulario de Paciente o Personal
     */
    private void limpiarFormulario(String formulario){

        String diaActual;
        String mesActual;
        String anioActual;
        String horaActual;
        String minutoActual;

        Calendar fechaActual = Calendar.getInstance();
        diaActual = Integer.toString(fechaActual.get(Calendar.DATE));
        mesActual = Integer.toString(fechaActual.get(Calendar.MONTH));
        anioActual = Integer.toString(fechaActual.get(Calendar.YEAR));
        horaActual = Integer.toString(fechaActual.get(Calendar.HOUR_OF_DAY));
        minutoActual = Integer.toString(fechaActual.get(Calendar.MINUTE));


        if(formulario.equals("GestionarPaciente")){
            jTextFieldNombrePersonal.setText("");
            jTextFieldApellidosPersonal.setText("");
            jTextFieldDNIPersonal.setText("");
            jTextFieldDireccionPersonal.setText("");
            jTextFieldEmailPersonal.setText("");
            jTextFieldTelefonoPersonal.setText("");
            jTextFieldContraseniaPersonal.setText("");
            jTextFieldLugarNacimientoPersonal.setText("");

            jLabelFotoPersonal.setIcon(null);
        }

        if(formulario.equals("GestionarTurno")){
            jTextFieldInicioTurno.setText(diaActual);
            jTextFieldFinTurno.setText(diaActual);
        }

        if(formulario.equals("GestionarMedicamento"))
        {
            jTextFieldNombreMedicamento.setText("");
            jTextFieldStockMinimo.setText("");
            jTextAreaDescripcion.setText("");
        }

        if(formulario.equals("ConsultarMedicamento"))
         {
            jTextFieldNombreMedica.setText("");
            jTextFieldStockActual.setText("");
            jTextFieldExistencias.setText("");
            jTextAreaConsulDescrip.setText("");
            jTextFieldCodLote.setText("");
        }

        if(formulario.equals("ModificarLote"))
        {
            jTextFieldCodigoBarras.setText("");
            jTextFieldExistencias1.setText("");
           

        }

        if(formulario.equals("AnadirLote"))
        {
            jTextFieldCodBarras.setText("");
            jTextFieldExistenc.setText("");
            
        }
    }

  
    /*Muestra el panel elegido en ZonaTrabajo
     *
     *@param panel, string que indica el panel a mostrar
     */
    private void mostrarPanel(String panel){

        if(panel.equals("Principal")){

            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(false);
            jLabelIconoInicio.setVisible(false);
            jLabel16.setForeground(Color.black);
            jLabelNombre.setForeground(Color.black);
            jLabelCodLote.setForeground(Color.black);
            jLabelDescrip.setForeground(Color.black);
            jLabelNombre.setForeground(Color.black);
            jLabelNombre.setForeground(Color.black);
            jLabelStockMinimo.setForeground(Color.black);
            jLabelDescripcion.setForeground(Color.black);
            jLabelCodBarras2.setForeground(Color.black);
            jLabelExistenc.setForeground(Color.black);
            jLabelFechaCad.setForeground(Color.black);
            jLabelCodBarras2.setForeground(Color.black);
            jLabelExistenc.setForeground(Color.black);
            jLabelFechCad.setForeground(Color.black);
            jLabelNombre.setForeground(Color.black);
            jLabelExis.setForeground(Color.black);
            jLabelStockActual.setForeground(Color.black);
            jLabelErrorRepe.setVisible(false);
            jLabelErrorFaltanDatos.setVisible(false);
            jLabelErrorLote.setVisible(false);
            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(true);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);
            // Ocultamos los mensajes de error
            jLabelErrorRepe.setVisible(false);
            jLabelError2.setVisible(false);
            jLabelError3.setVisible(false);
            jLabelError4.setVisible(false);
            jLabelError5.setVisible(false);
//            jLabelErrorFecha.setVisible(false);
            /**Activamos el marco*/
            jPanelPrincipal.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }

        if(panel.equals("GestionarPersonal")){jPanelDispensar.setBorder(null);

            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            jRadioButtonAnalista.setEnabled(false);
             jRadioButtonRadiologo.setEnabled(false);
             jRadioButtonFarmaceutico.setSelected(true);
             jRadioButtonMedico.setEnabled(false);
            /**Insertamos icono de foto anónima*/
            //jLabelFotoPersonal.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/Principal/Foto-Anonima.png"))); // NOI18N


            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(true);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }


        if(panel.equals("GestionarTurno")){

            /**Limpiamos posibles datos introducidos anteriormente*/
            limpiarFormulario("GestionarTurno");

            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(true);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }

         if(panel.equals("ComprobarStock")){

            /**Limpiamos posibles datos introducidos anteriormente*/


            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(true);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }

        if(panel.equals("GestionarMedicamento")){

            /**Limpiamos posibles datos introducidos anteriormente*/

            limpiarFormulario("GestionarMedicamento");
            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(true);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);
            jLabelErrorLote.setVisible(false);
            jLabelExisteMedica.setVisible(false);

            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }

        if(panel.equals("DispensarMedicamentos1")){

            /**Limpiamos posibles datos introducidos anteriormente*/


            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);
            jTextFieldDNIPaciente.setText("");
            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(true);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }
        if(panel.equals("DispensarConsultar")){

            /**Limpiamos posibles datos introducidos anteriormente*/


            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(true);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }
        if(panel.equals("DispensarFinal")){

            /**Limpiamos posibles datos introducidos anteriormente*/


            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(true);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }

        if(panel.equals("ModificarLote")){

            /**Hacemos visible el botón jLabelIconoInicio*/
            jTextFieldCodigoBarras.setEditable(false);
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);
            jOptionPaneEliminarLote.setVisible(false);
            jLabelError6.setVisible(false);
            jLabelErrorFecha1.setVisible(false);
            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(true);
            jPanelAnadirLote.setVisible(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelAnadirLote.setBorder(null);
        }
        if(panel.equals("AnadirLote")){

            /**Limpiamos posibles datos introducidos anteriormente*/

            limpiarFormulario("AnadirLote");
            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);

            /**Hacemos visible el panel seleccionado*/
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(false);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(true);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(null);
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
        }

        if(panel.equals("ConsultarMedicamento")){

            /**Hacemos visible el botón jLabelIconoInicio*/
            jLabelInicio.setVisible(true);
            jLabelIconoInicio.setVisible(true);
            jTextFieldCodLote.setText("");
            /**Hacemos visible el panel seleccionado*/
            jOptionPaneConfirmar.setVisible(false);
            jPanelPrincipal.setVisible(false);
            jPanelConsultarDatosPersonales.setVisible(false);
            jPanelConsultarTurno.setVisible(false);
            jPanelComprobarStockMedicamentos.setVisible(false);
            jPanelGestionarMedicamentos.setVisible(false);
            jPanelDispensar.setVisible(false);
            jPanelConsultarMedicamento.setVisible(true);
            jPanelDispensarConsultar.setVisible(false);
            jPanelDispensarFinal.setVisible(false);
            jPanelModificarLote.setVisible(false);
            jPanelAnadirLote.setVisible(false);
            jTextFieldNombreMedica.setEditable(false);


            /**Activamos el marco*/
            jPanelPrincipal.setBorder(null);
            jPanelConsultarDatosPersonales.setBorder(null);
            jPanelConsultarTurno.setBorder(null);
            jPanelComprobarStockMedicamentos.setBorder(null);
            jPanelGestionarMedicamentos.setBorder(null);
            jPanelDispensar.setBorder(null);
            jPanelConsultarMedicamento.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true));
            jPanelDispensarConsultar.setBorder(null);
            jPanelDispensarFinal.setBorder(null);
            jPanelModificarLote.setBorder(null);
            jPanelAnadirLote.setBorder(null);
        }
    }


     /*Carga la foto en el formulario pasado por parámetro
     *
     *@param formulario, string que indica el formulario donde cargar la foto
     */
    private void cargarFoto(String formulario){

        if(formulario.equals("GestionarPersonal")){
            JFileChooser dlg = new JFileChooser();
            int resp = dlg.showOpenDialog(this);
            if (resp == JFileChooser.APPROVE_OPTION){
                try{
                    ImageIcon icono = new ImageIcon(dlg.getSelectedFile().getCanonicalPath());
                    Image imagen = icono.getImage();
                    ImageIcon aescala = new ImageIcon(imagen.getScaledInstance(130,150,Image.SCALE_SMOOTH));
                    jLabelFotoPersonal.setIcon(aescala); // NOI18N
                }
                catch(Exception ex){
                    System.err.print("Error al leer el archivo");
                }
            }
        }

    }

    private void identificarPersonal( String nombreUsuario) throws SQLException{

        //trabajar con personal no se puede, ya que su BD está mal

        Usuario perso=null;
        UsuarioBD usu_bd=new UsuarioBD ();
        perso=usu_bd.obtener(nombreUsuario);

        mostrarDatosPerso(perso);

    }

    private void mostrarDatosPerso(Usuario usu) throws SQLException{

        Calendar calendar = Calendar.getInstance();
        calendar.setTime(usu.getFecNac());
        int dia = calendar.get(Calendar.DAY_OF_MONTH);   //dia del mes
        int mes = calendar.get(Calendar.MONTH);
        mes=mes+1;//mes, de 0 a 11
        int anio = calendar.get(Calendar.YEAR);  //año

        String num_dia= String.valueOf(dia);
        String num_mes= String.valueOf(mes);
        String num_anio= String.valueOf(anio);

        sfotografia=usu.getFoto();
        //Codigo para cargar la imagen del usuario en el formulario
        try{
            
            ImageIcon icono = new ImageIcon(usu.getFoto());
            Image imagen = icono.getImage();
            ImageIcon aescala = new ImageIcon(imagen.getScaledInstance(150,150,Image.SCALE_SMOOTH));
            jLabelFotoPersonal.setIcon(aescala); // NOI18N
        }
        catch(Exception ex){
            System.err.print("Error al leer el archivo");
        }

//        jTextFieldFechaNacimientoAnioPersonal.setText(num_anio);
  //      jTextFieldFechaNacimientoDiaPersonal.setText(num_dia);
    //    jTextFieldFechaNacimientoMesersonal.setText(num_mes);
        jTextFieldNombrePersonal.setText(usu.getNombre());
        jTextFieldContraseniaPersonal.setText(usu.getContrasenia());
        jTextFieldDNIPersonal.setText(usu.getDNI());
        jTextFieldApellidosPersonal.setText(usu.getApellidos());
        jTextFieldTelefonoPersonal.setText(usu.getTelefono());
        jTextFieldDireccionPersonal.setText(usu.getDireccion());
        jTextFieldEmailPersonal.setText(usu.getEmail());
        jTextFieldLugarNacimientoPersonal.setText(usu.getLugarNac());
        jTextFieldDNIPersonal.setEditable(false);
    }


  private boolean compruebaFormulario(String formulario){

           if(formulario.equals("GestionarPersonal")){

            if(!compruebaFecha("GestionarPersonal")){
                jLabelFechaNacimientoPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelFechaNacimientoPersonal.setForeground(Color.black);
                }

            if(jTextFieldNombrePersonal.getText().length() == 0){
                jLabelNombrePersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelNombrePersonal.setForeground(Color.black);
            }

            if(jTextFieldApellidosPersonal.getText().length() == 0){
                jLabelApellidosPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelApellidosPersonal.setForeground(Color.black);
            }

            if(jTextFieldDNIPersonal.getText().length() != 9){
                jLabelDNIPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelDNIPersonal.setForeground(Color.black);
            }

            if(jTextFieldDireccionPersonal.getText().length() == 0){
                jLabelDireccionPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelDireccionPersonal.setForeground(Color.black);
            }

            if(jTextFieldEmailPersonal.getText().length() == 0){
                jLabelEmailPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelEmailPersonal.setForeground(Color.black);
            }

            if(jTextFieldTelefonoPersonal.getText().length() == 0){
                jLabelTelefonoPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelTelefonoPersonal.setForeground(Color.black);
            }

            if(jTextFieldLugarNacimientoPersonal.getText().length() == 0){
                jLabelLugarNacimientoPersonal.setForeground(Color.red);
                return false;
                }else{
                jLabelLugarNacimientoPersonal.setForeground(Color.black);
            }

            return true;

    }
        if(formulario.equals("GestionarMedicamento")){
            if(jTextFieldNombreMedicamento.getText().length() == 0){
                jLabelNombre.setForeground(Color.red);
                return false;
                }else{
                jLabelNombre.setForeground(Color.black);

            }


            if(jTextFieldStockMinimo.getText().length() == 0){
                jLabelStockMinimo.setForeground(Color.red);
                return false;
                }else{
                jLabelStockMinimo.setForeground(Color.black);

            }

            if(jTextAreaDescripcion.getText().length() == 0){
                jLabelDescripcion.setForeground(Color.red);
                return false;
                }else{
                jLabelDescripcion.setForeground(Color.black);

            }

        }
        if(formulario.equals("ModificarLote")){
                if(jTextFieldCodigoBarras.getText().length() == 0){
                jLabelCodBarras2.setForeground(Color.red);
                return false;
                }else{
                jLabelCodBarras2.setForeground(Color.black);

            }
                if(jTextFieldExistencias1.getText().length() == 0){
                jLabelExistenc.setForeground(Color.red);
                return false;
                }else{
                jLabelExistenc.setForeground(Color.black);

            }


        }

        if(formulario.equals("AnadirLote")){
            if(jTextFieldCodBarras.getText().length() == 0){
                jLabelCodBarras2.setForeground(Color.red);
                return false;
                }else{
                jLabelCodBarras2.setForeground(Color.black);
            }
            if(jTextFieldExistenc.getText().length() == 0){
                jLabelExistenc.setForeground(Color.red);
                return false;
                }else{
                jLabelExistenc.setForeground(Color.black);

            }

          
        }

        if(formulario.equals("ConsultarMedicamentoModificarEliminar")){
            if(jTextFieldNombreMedica.getText().length() == 0){
                jLabelNombre.setForeground(Color.red);
                return false;
                }else{
                jLabelNombre.setForeground(Color.black);

            }
            if(jTextFieldExistencias.getText().length() == 0){
                jLabelExis.setForeground(Color.red);
                return false;
                }else{
                jLabelExis.setForeground(Color.black);

            }
            if(jTextFieldStockActual.getText().length() == 0){
                jLabelStockActual.setForeground(Color.red);
                return false;
                }else{
                jLabelStockActual.setForeground(Color.black);
            }

            if(jTextAreaConsulDescrip.getText().length() == 0){
                jLabelDescrip.setForeground(Color.red);
                return false;
                }else{
                jLabelDescrip.setForeground(Color.black);
            }
        }
        if(formulario.equals("ConsultarMedicamentoLote")){
            if(jTextFieldCodLote.getText().length() == 0){
                jLabelCodLote.setForeground(Color.red);
                return false;
                }else{
                jLabelCodLote.setForeground(Color.black);
            }
         }
        if(formulario.equals("ConsultarMedica")){
            if(jTextFieldNombreMedicamento.getText().length() == 0){
                jLabelNombre.setForeground(Color.red);
                return false;
                }else{
                jLabelNombre.setForeground(Color.black);
            }
         }
        if(formulario.equals("dispensar")){
            if(jTextFieldDNIPaciente.getText().length() == 0){
                jLabel16.setForeground(Color.red);
                return false;
                }else{
                jLabel16.setForeground(Color.black);

            }
        }
         return true;
    }




    // @param args the command line arguments
    
/*    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new UI_Paciente("Paciente", "paciente").setVisible(true);
            }
        });
    }
*/
 
    byte[] sfotografia;
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLayeredPane ZonaTrabajo;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.ButtonGroup buttonGroup2;
    private javax.swing.ButtonGroup buttonGroup3;
    private datechooser.beans.DateChooserCombo dateChooserCombo1;
    private datechooser.beans.DateChooserCombo dateChooserCombo2;
    private datechooser.beans.DateChooserCombo dateChooserCombo3;
    private javax.swing.JButton jButtonAnadir;
    private javax.swing.JButton jButtonAnadirLote;
    private javax.swing.JButton jButtonAnadirMedicamento;
    private javax.swing.JButton jButtonComprobarStock;
    private javax.swing.JButton jButtonConsultar;
    private javax.swing.JButton jButtonConsultarDatosPersonales;
    private javax.swing.JButton jButtonConsultarLote;
    private javax.swing.JButton jButtonConsultarReceta;
    private javax.swing.JButton jButtonDispensar;
    private javax.swing.JButton jButtonDispensarFinal;
    private javax.swing.JButton jButtonELiminarLote;
    private javax.swing.JButton jButtonEliminarMedicamento;
    private javax.swing.JButton jButtonFinalizar;
    private javax.swing.JButton jButtonGestionarCita;
    private javax.swing.JButton jButtonGestionarMedicamento;
    private javax.swing.JButton jButtonGuardar;
    private javax.swing.JButton jButtonModificarLote;
    private javax.swing.JButton jButtonModificarMedica;
    private javax.swing.JButton jButtonObtenerRecetas;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelApellidosPersonal;
    private javax.swing.JLabel jLabelAyuda;
    private javax.swing.JLabel jLabelCentroMedico;
    private javax.swing.JLabel jLabelCodBarras2;
    private javax.swing.JLabel jLabelCodLote;
    private javax.swing.JLabel jLabelCodigoBarras;
    private javax.swing.JLabel jLabelConsultarTurno;
    private javax.swing.JLabel jLabelContraseniaPersonal;
    private javax.swing.JLabel jLabelDNIPersonal;
    private javax.swing.JLabel jLabelDNITurno;
    private javax.swing.JLabel jLabelDescrip;
    private javax.swing.JLabel jLabelDescripcion;
    private javax.swing.JLabel jLabelDireccionPersonal;
    private javax.swing.JLabel jLabelEmailPersonal;
    private javax.swing.JLabel jLabelError2;
    private javax.swing.JLabel jLabelError3;
    private javax.swing.JLabel jLabelError4;
    private javax.swing.JLabel jLabelError5;
    private javax.swing.JLabel jLabelError6;
    private javax.swing.JLabel jLabelErrorDNIPaciente;
    private javax.swing.JLabel jLabelErrorFaltanDatos;
    private javax.swing.JLabel jLabelErrorFecha1;
    private javax.swing.JLabel jLabelErrorLote;
    private javax.swing.JLabel jLabelErrorRepe;
    private javax.swing.JLabel jLabelExis;
    private javax.swing.JLabel jLabelExisteMedica;
    private javax.swing.JLabel jLabelExistenc;
    private javax.swing.JLabel jLabelFechCad;
    private javax.swing.JLabel jLabelFechaCad;
    private javax.swing.JLabel jLabelFechaFinTurno;
    private javax.swing.JLabel jLabelFechaInicioTurno;
    private javax.swing.JLabel jLabelFechaNacimientoPersonal;
    private javax.swing.JLabel jLabelFotoPersonal;
    private javax.swing.JLabel jLabelFotografiaersonal;
    private javax.swing.JLabel jLabelGestionarPaciente10;
    private javax.swing.JLabel jLabelGestionarPaciente11;
    private javax.swing.JLabel jLabelGestionarPaciente12;
    private javax.swing.JLabel jLabelGestionarPaciente13;
    private javax.swing.JLabel jLabelGestionarPaciente14;
    private javax.swing.JLabel jLabelGestionarPaciente3;
    private javax.swing.JLabel jLabelGestionarPaciente4;
    private javax.swing.JLabel jLabelGestionarPaciente6;
    private javax.swing.JLabel jLabelGestionarPaciente7;
    private javax.swing.JLabel jLabelGestionarPaciente8;
    private javax.swing.JLabel jLabelGestionarPaciente9;
    private javax.swing.JLabel jLabelIcono;
    private javax.swing.JLabel jLabelIconoAyuda;
    private javax.swing.JLabel jLabelIconoInicio;
    private javax.swing.JLabel jLabelIconoSalir;
    private javax.swing.JLabel jLabelInicio;
    private javax.swing.JLabel jLabelLugarNacimientoPersonal;
    private javax.swing.JLabel jLabelNombre;
    private javax.swing.JLabel jLabelNombreMedica;
    private javax.swing.JLabel jLabelNombrePersonal;
    private javax.swing.JLabel jLabelNombreUsuario;
    private javax.swing.JLabel jLabelSalir;
    private javax.swing.JLabel jLabelStockActual;
    private javax.swing.JLabel jLabelStockMinimo;
    private javax.swing.JLabel jLabelTelefonoPersonal;
    private javax.swing.JLabel jLabelTipoUsuario;
    private javax.swing.JLabel jLabelTipoUsuarioIdentificado;
    private javax.swing.JLabel jLabelTurnoTrabajo;
    private javax.swing.JLabel jLabelUsuario;
    private javax.swing.JList jList1;
    private javax.swing.JList jList2;
    private javax.swing.JList jList3;
    private javax.swing.JList jList4;
    private javax.swing.JList jListMedicamentosDispensar;
    private javax.swing.JOptionPane jOptionPaneConfirmar;
    private javax.swing.JOptionPane jOptionPaneEliminarLote;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanelAnadirLote;
    private javax.swing.JPanel jPanelComprobarStockMedicamentos;
    private javax.swing.JPanel jPanelConsultarDatosPersonales;
    private javax.swing.JPanel jPanelConsultarMedicamento;
    private javax.swing.JPanel jPanelConsultarTurno;
    private javax.swing.JPanel jPanelDispensar;
    private javax.swing.JPanel jPanelDispensarConsultar;
    private javax.swing.JPanel jPanelDispensarFinal;
    private javax.swing.JPanel jPanelGestionarMedicamentos;
    private javax.swing.JPanel jPanelModificarLote;
    private javax.swing.JPanel jPanelPrincipal;
    private javax.swing.JPanel jPanelUsuario;
    private javax.swing.JRadioButton jRadioButtonAnalista;
    private javax.swing.JRadioButton jRadioButtonFarmaceutico;
    private javax.swing.JRadioButton jRadioButtonManiana;
    private javax.swing.JRadioButton jRadioButtonMedico;
    private javax.swing.JRadioButton jRadioButtonNoche;
    private javax.swing.JRadioButton jRadioButtonRadiologo;
    private javax.swing.JRadioButton jRadioButtonTarde1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane10;
    private javax.swing.JScrollPane jScrollPane11;
    private javax.swing.JScrollPane jScrollPane12;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JScrollPane jScrollPane9;
    private javax.swing.JTextArea jTextAreaConsulDescrip;
    private javax.swing.JTextArea jTextAreaDescripcion;
    private javax.swing.JTextArea jTextAreaInfo;
    private javax.swing.JTextArea jTextAreaInfo2;
    private javax.swing.JTextArea jTextAreaInfo4;
    private javax.swing.JTextArea jTextAreaInfoConsultaTurno;
    private javax.swing.JTextArea jTextAreaInfoTurno;
    private javax.swing.JTextField jTextFieldApellidosPersonal;
    private javax.swing.JTextField jTextFieldCodBarras;
    private javax.swing.JTextField jTextFieldCodBarras2;
    private javax.swing.JTextField jTextFieldCodLote;
    private javax.swing.JTextField jTextFieldCodigoBarras;
    private javax.swing.JTextField jTextFieldContraseniaPersonal;
    private javax.swing.JTextField jTextFieldDNIGestionarTurno;
    private javax.swing.JTextField jTextFieldDNIPaciente;
    private javax.swing.JTextField jTextFieldDNIPersonal;
    private javax.swing.JTextField jTextFieldDireccionPersonal;
    private javax.swing.JTextField jTextFieldEmailPersonal;
    private javax.swing.JTextField jTextFieldExistenc;
    private javax.swing.JTextField jTextFieldExistencias;
    private javax.swing.JTextField jTextFieldExistencias1;
    private javax.swing.JTextField jTextFieldFinTurno;
    private javax.swing.JTextField jTextFieldInicioTurno;
    private javax.swing.JTextField jTextFieldLugarNacimientoPersonal;
    private javax.swing.JTextField jTextFieldNombreMedica;
    private javax.swing.JTextField jTextFieldNombreMedicamento;
    private javax.swing.JTextField jTextFieldNombrePersonal;
    private javax.swing.JTextField jTextFieldStockActual;
    private javax.swing.JTextField jTextFieldStockMinimo;
    private javax.swing.JTextField jTextFieldTelefonoPersonal;
    private java.awt.ScrollPane scrollPaneMedicamentosBajoStock;
    private java.awt.ScrollPane scrollPaneMedicamentosReceta;
    private java.awt.ScrollPane scrollPaneRecetas;
    private java.awt.ScrollPane scrollPanelDescripcion;
    // End of variables declaration//GEN-END:variables

}
